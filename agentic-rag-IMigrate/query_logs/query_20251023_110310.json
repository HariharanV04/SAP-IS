{
  "timestamp": "20251023_110310",
  "job_id": null,
  "iflow_name": "IFlow_dac35410",
  "original_markdown": "# SuccessFactors Employee Data Synchronization with SFTP Integration\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration provides a comprehensive solution for synchronizing employee data from SAP SuccessFactors to external systems via SFTP delivery. The integration focuses on extracting employee information, transforming it to meet NAVEX requirements, and securely delivering the data through encrypted file transfers.\r\n\r\n**Base URL Pattern:** SAP SuccessFactors OData API endpoints with HTTPS protocol\r\n**Authentication:** OAuth 2.0 for SuccessFactors, SSH key-based authentication for SFTP\r\n**Rate Limiting:** Configurable batch processing with throttling capabilities\r\n**Response Format:** XML from SuccessFactors, CSV output for NAVEX delivery\r\n\r\nThe integration incorporates comprehensive error handling, data validation, and monitoring capabilities to ensure reliable data synchronization between systems.\r\n\r\n## Endpoints\r\n\r\n### SuccessFactors Employee Data Extraction\r\n\r\n**HTTP Method:** GET\r\n**Path Pattern:** `/odata/v2/CompoundEmployee`\r\n\r\n**Purpose:** Extract comprehensive employee data from SuccessFactors including personal information, employment details, and organizational hierarchy.\r\n\r\n**Request Parameters:**\r\n\r\n| Parameter Type | Name | Required | Description |\r\n|----------------|------|----------|-------------|\r\n| Query | `$filter` | Yes | Dynamic WHERE clause with employee filtering criteria |\r\n| Query | `$select` | No | Field selection for performance optimization |\r\n| Query | `$expand` | No | Related entity expansion for nested data structures |\r\n| Query | `$format` | No | Response format (JSON/XML) |\r\n| Header | Authorization | Yes | OAuth 2.0 bearer token |\r\n| Header | Accept | No | Content type preference |\r\n\r\n**Response Format:**\r\n- **Success (200):** XML structure containing CompoundEmployee entities\r\n- **Authentication Error (401):** Invalid or expired OAuth token\r\n- **Rate Limit (429):** API throttling response\r\n- **Server Error (500):** SuccessFactors system error\r\n\r\n### SFTP File Delivery Endpoints\r\n\r\n**Protocol:** SFTP over SSH\r\n**Target Systems:** NAVEX vendor SFTP server, PepsiCo internal SFTP repository\r\n\r\n**Authentication:** SSH key-based authentication with encrypted private keys\r\n**File Format:** Encrypted CSV files using PGP encryption\r\n**Delivery Pattern:** Push-based file transfer with confirmation\r\n\r\n## Current Boomi Flow Logic\r\n\r\n### Process Flow Overview\r\n\r\nThis Boomi integration process orchestrates a comprehensive employee data synchronization workflow that:\r\n\r\n1. **Initializes** with comprehensive error tracking and property validation\r\n2. **Extracts** employee data from SuccessFactors using dynamic filtering\r\n3. **Transforms** data through field mapping and enrichment processes\r\n4. **Delivers** encrypted files to NAVEX SFTP server and internal repositories\r\n5. **Monitors** execution with detailed error reporting and notifications\r\n\r\nThe process incorporates sophisticated error handling, data validation, and business rule processing to ensure reliable data transfer between SuccessFactors and external systems.\r\n\r\n### Step-by-Step Flow Description\r\n\r\n---\r\n\r\n#### **Step 1: Process Initialization**\r\n\r\n**Component Type:** Start Event\r\n\r\n**Purpose:** Initialize the employee data synchronization process with comprehensive error tracking setup and property validation\r\n\r\n**Configuration Details:**\r\n\r\n- **Trigger Type:** Scheduled execution or manual trigger\r\n- **Error Property Initialization:** Comprehensive error tracking across all component types\r\n- **Property Validation:** Verify all required process properties are configured\r\n- **Connection Testing:** Validate connectivity to SuccessFactors and SFTP endpoints\r\n\r\n| Category | Property Names | Description |\r\n|----------|----------------|-------------|\r\n| Business Rule Errors | RPT_INT_ALL_BRULE_ERR_CNT, RPT_INT_ALL_BRULE_WRN_CNT, RPT_INT_ALL_BRULE_SKP_CNT | Error tracking for business rule violations |\r\n| Cleanse Errors | RPT_INT_ALL_CLNS_ERR_CNT, RPT_INT_ALL_CLNS_WRN_CNT, RPT_INT_ALL_CLNS_SKP_CNT | Data cleansing error tracking |\r\n| Decision Errors | RPT_INT_ALL_DCN_ERR_CNT, RPT_INT_ALL_DCN_WRN_CNT, RPT_INT_ALL_DCN_SKP_CNT | Decision point error tracking |\r\n| Route Errors | RPT_INT_ALL_ROUTE_ERR_CNT, RPT_INT_ALL_ROUTE_WRN_CNT, RPT_INT_ALL_ROUTE_SKP_CNT | Routing error tracking |\r\n| TryCatch Errors | RPT_INT_ALL_TRYCATCH_ERR_CNT, RPT_INT_ALL_TRYCATCH_WRN_CNT, RPT_INT_ALL_TRYCATCH_SKP_CNT | Exception handling tracking |\r\n| Return Errors | RPT_INT_ALL_RETURN_ERR_CNT, RPT_INT_ALL_RETURN_WRN_CNT, RPT_INT_ALL_RETURN_SKP_CNT | Return value tracking |\r\n| General Errors | RPT_INT_ALL_ERR_CNT, RPT_INT_INTERFACE_START_TIME, RPT_INT_ALL_WRN_CNT | Overall error tracking |\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Process trigger event\r\n- **Processing:** Error property initialization and system validation\r\n- **Output:** Initialized process with comprehensive error tracking framework\r\n\r\n---\r\n\r\n#### **Step 2: Dynamic Property Calculation**\r\n\r\n**Component Type:** Document Properties\r\n\r\n**Purpose:** Calculate dynamic properties for SuccessFactors API calls including filter construction and parameter setup\r\n\r\n**Configuration Details:**\r\n\r\n- **Dynamic Filter Construction:** Build WHERE clauses based on multiple criteria\r\n- **Date Calculations:** Calculate processing dates and time ranges\r\n- **API Parameter Setup:** Configure SuccessFactors OData query parameters\r\n- **HTTP Connector Calls:** Execute external API calls for reference data\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Process initialization data\r\n- **Processing:** Dynamic property calculations and external API calls\r\n- **Output:** Enhanced process context with calculated properties and reference data\r\n\r\n---\r\n\r\n#### **Step 3: SuccessFactors Data Extraction**\r\n\r\n**Component Type:** Connector Action (SuccessFactors)\r\n\r\n**Purpose:** Extract comprehensive employee data from SuccessFactors using constructed filters and query parameters\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** SuccessFactors OData API\r\n- **Operation:** GET CompoundEmployee entities\r\n- **Authentication:** OAuth 2.0 with bearer token\r\n- **Query Parameters:** Dynamic $filter, $select, $expand clauses\r\n- **Error Handling:** Connection timeouts and authentication errors\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Constructed query parameters and filters\r\n- **Processing:** SuccessFactors API call execution\r\n- **Output:** Raw employee data in XML format\r\n\r\n---\r\n\r\n#### **Step 4: Data Transformation and Mapping**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Transform SuccessFactors employee data to NAVEX-compatible format with field mapping and data enrichment\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SuccessFactors CompoundEmployee XML structure\r\n- **Output Profile:** NAVEX CSV record format\r\n- **Transformation Logic:** Field-to-field mapping with data type conversion\r\n- **Data Enrichment:** Picklist lookups and manager name resolution\r\n\r\n| Field Path | Description | Data Type | Business Purpose |\r\n|------------|-------------|-----------|------------------|\r\n| CompoundEmployee/person/person_id_external | Global Person ID | String | Unique employee identifier |\r\n| CompoundEmployee/person/employment_information/email_address | Corporate email address | String | Employee contact information |\r\n| CompoundEmployee/person/employment_information/employment_status | Employment status code | String | Current employment status |\r\n| CompoundEmployee/person/employment_information/employee_class | Employee classification | String | Employee role classification |\r\n| CompoundEmployee/person/employment_information/pay_grade | Pay grade level | String | Compensation hierarchy |\r\n| CompoundEmployee/person/employment_information/position | Position title | String | Job role description |\r\n| CompoundEmployee/person/employment_information/location | Location code | String | Work location identifier |\r\n| CompoundEmployee/person/employment_information/territory | Territory code | String | Geographic territory |\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Raw SuccessFactors employee data\r\n- **Processing:** Field mapping, data enrichment, and format conversion\r\n- **Output:** NAVEX-formatted employee records\r\n\r\n---\r\n\r\n#### **Step 5: CSV File Generation**\r\n\r\n**Component Type:** Document Properties and File Operations\r\n\r\n**Purpose:** Generate CSV output files with proper formatting and field separation for NAVEX consumption\r\n\r\n**Configuration Details:**\r\n\r\n- **File Format:** Comma-separated values with proper escaping\r\n- **Header Row:** NAVEX-required field headers\r\n- **Data Validation:** Field length and format validation\r\n- **Character Encoding:** UTF-8 encoding for international characters\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Transformed employee records\r\n- **Processing:** CSV formatting and file generation\r\n- **Output:** Formatted CSV files ready for encryption\r\n\r\n---\r\n\r\n#### **Step 6: PGP Encryption**\r\n\r\n**Component Type:** Encryption Component\r\n\r\n**Purpose:** Apply PGP encryption to CSV files for secure transmission to NAVEX systems\r\n\r\n**Configuration Details:**\r\n\r\n- **Encryption Method:** PGP with configured public keys\r\n- **Key Management:** Secure key storage and rotation\r\n- **File Integrity:** Checksum validation after encryption\r\n- **Security Standards:** Industry-standard encryption protocols\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Unencrypted CSV files\r\n- **Processing:** PGP encryption with public key\r\n- **Output:** Encrypted files ready for SFTP transmission\r\n\r\n---\r\n\r\n#### **Step 7: SFTP File Delivery**\r\n\r\n**Component Type:** Connector Action (SFTP)\r\n\r\n**Purpose:** Deliver encrypted files to NAVEX SFTP server and internal PepsiCo repositories\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** SFTP with SSH key authentication\r\n- **Target Servers:** NAVEX vendor SFTP and PepsiCo internal SFTP\r\n- **File Transfer:** Secure file upload with confirmation\r\n- **Error Handling:** Connection failures and transfer validation\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Encrypted CSV files\r\n- **Processing:** SFTP file transfer operations\r\n- **Output:** Confirmation of successful file delivery\r\n\r\n---\r\n\r\n#### **Step 8: Notification and Reporting**\r\n\r\n**Component Type:** Email Notification\r\n\r\n**Purpose:** Send execution status notifications with detailed results and error reporting\r\n\r\n**Configuration Details:**\r\n\r\n- **Email Recipients:** Process administrators and business users\r\n- **Status Reports:** Success/failure notifications with statistics\r\n- **Error Details:** Comprehensive error information for troubleshooting\r\n- **Attachments:** Log files and execution summaries\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Process execution results and error statistics\r\n- **Processing:** Email composition and delivery\r\n- **Output:** Status notifications sent to stakeholders\r\n\r\n---\r\n\r\n#### **Step 9: Process Completion**\r\n\r\n**Component Type:** End Event\r\n\r\n**Purpose:** Complete the integration process with final cleanup and status logging\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Success or failure completion based on execution results\r\n- **Cleanup Actions:** Temporary file cleanup and resource deallocation\r\n- **Final Logging:** Process completion status and performance metrics\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Final process results and status\r\n- **Processing:** Cleanup operations and final logging\r\n- **Output:** Process completion with comprehensive status tracking\r\n\r\n## Boomi Transformations Explained\r\n\r\n### Canonical To Kafka Avro Mapping\r\n\r\n**Purpose:** Transform SuccessFactors employee data structure to NAVEX-compatible format through comprehensive field mapping and data enrichment.\r\n\r\n**Input Profile:** SuccessFactors CompoundEmployee XML structure containing nested employee information including personal details, employment data, and organizational relationships.\r\n\r\n**Output Profile:** NAVEX CSV record format with flattened employee data structure optimized for downstream processing and consumption.\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| username | username | String | Maps user authentication identifier for system access |\r\n| locationId | contactID | String | Maps location identifier to contact identification for geographic tracking |\r\n| pay-group | type | String | Maps payroll group classification to employee type categorization |\r\n| paycompvalue | name | String | Maps compensation value to descriptive name field |\r\n\r\n**Function Steps:**\r\n- **DocumentPropertyGet:** Retrieve dynamic properties calculated in earlier process steps\r\n- **String Concatenation:** Combine multiple source fields for composite target fields  \r\n- **Data Type Conversion:** Convert between string, numeric, and date formats as required\r\n- **Default Value Assignment:** Apply default values for missing or null source data\r\n\r\n**Transformation Logic:**\r\n- Direct field mapping for simple one-to-one relationships\r\n- Complex concatenation for composite fields requiring multiple source inputs\r\n- Conditional logic for status and classification translations\r\n- Date formatting to ensure consistent YYYY-MM-DD format for all date fields\r\n\r\n## SAP Integration Suite Implementation\r\n\r\n### Component Mapping\r\n\r\n#### Main Process Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Start Event | Start Message Event | Initialize employee data synchronization process |\r\n| Document Properties | Content Modifier (Set Properties) | Calculate dynamic properties and API parameters |\r\n| SuccessFactors Connector | SuccessFactors Adapter | Extract employee data from SuccessFactors OData API |\r\n| Map Component | Message Mapping | Transform SuccessFactors data to NAVEX CSV format |\r\n| CSV Generator | CSV to XML Converter | Generate properly formatted CSV output files |\r\n| PGP Encryption | Security Artifact (PGP) | Encrypt files for secure transmission |\r\n| SFTP Connector | SFTP Adapter | Deliver files to NAVEX and internal repositories |\r\n| Email Notification | Mail Adapter | Send process status and error notifications |\r\n| End Event | End Message Event | Complete process with cleanup and logging |\r\n\r\n#### Error Handling Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Try-Catch Block | Exception Subprocess | Handle process errors and exceptions |\r\n| Error Logging | Write Variables | Log error details for troubleshooting |\r\n| Error Notification | Mail Adapter | Send error notifications to administrators |\r\n\r\n### Integration Flow Visualization\r\n\r\n```mermaid\r\nflowchart TD\r\n    %% Define node styles for SAP Integration Suite components\r\n    classDef httpAdapter fill:#87CEEB,stroke:#333,stroke-width:2px\r\n    classDef contentModifier fill:#98FB98,stroke:#333,stroke-width:2px\r\n    classDef mapping fill:#DDA0DD,stroke:#333,stroke-width:2px\r\n    classDef adapter fill:#FFD700,stroke:#333,stroke-width:2px\r\n    classDef event fill:#C0C0C0,stroke:#333,stroke-width:2px\r\n    classDef errorHandler fill:#FFA07A,stroke:#333,stroke-width:2px\r\n\r\n    %% Main Integration Flow\r\n    Start((\"Start Message Event\")) --> InitProps[\"Content Modifier: Initialize Error Properties\"]:::contentModifier\r\n    InitProps --> CalcProps[\"Content Modifier: Calculate Dynamic Properties\"]:::contentModifier\r\n    CalcProps --> SFExtract[\"SuccessFactors Adapter: Extract Employee Data\"]:::adapter\r\n    SFExtract --> Transform[\"Message Mapping: SF to NAVEX Format\"]:::mapping\r\n    Transform --> GenCSV[\"CSV Generator: Create Output Files\"]:::contentModifier\r\n    GenCSV --> Encrypt[\"PGP Encryption: Secure Files\"]:::contentModifier\r\n    Encrypt --> DeliverNAVEX[\"SFTP Adapter: Deliver to NAVEX\"]:::adapter\r\n    DeliverNAVEX --> Archive[\"SFTP Adapter: Archive Internally\"]:::adapter\r\n    Archive --> Notify[\"Mail Adapter: Send Notifications\"]:::adapter\r\n    Notify --> End((\"End Message Event\")):::event\r\n\r\n    %% Error Handling Flow\r\n    SFExtract -->|\"Connection Error\"| ErrorHandler[(\"Exception Subprocess\")]:::errorHandler\r\n    Transform -->|\"Mapping Error\"| ErrorHandler\r\n    Encrypt -->|\"Encryption Error\"| ErrorHandler\r\n    DeliverNAVEX -->|\"Delivery Error\"| ErrorHandler\r\n    ErrorHandler --> LogError[\"Write Variables: Log Error Details\"]:::contentModifier\r\n    LogError --> ErrorNotify[\"Mail Adapter: Error Notification\"]:::adapter\r\n    ErrorNotify --> ErrorEnd((\"Error End Event\")):::event\r\n\r\n    %% Dynamic Properties Detail\r\n    subgraph DynamicProperties[\"Dynamic Properties Calculation\"]\r\n        BuildFilter[\"Content Modifier: Build WHERE Clause\"]:::contentModifier\r\n        GetPicklist[\"HTTPS Adapter: Retrieve Reference Data\"]:::httpAdapter\r\n        CalcDates[\"Content Modifier: Calculate Date Ranges\"]:::contentModifier\r\n        SetParams[\"Content Modifier: Set API Parameters\"]:::contentModifier\r\n    end\r\n    \r\n    CalcProps --> DynamicProperties\r\n    DynamicProperties --> SFExtract\r\n\r\n    %% Apply styling\r\n    class Start,End,ErrorEnd event\r\n    class InitProps,CalcProps,GenCSV,Encrypt,LogError,BuildFilter,CalcDates,SetParams contentModifier\r\n    class Transform mapping\r\n    class SFExtract,DeliverNAVEX,Archive,Notify,ErrorNotify adapter\r\n    class GetPicklist httpAdapter\r\n    class ErrorHandler errorHandler\r\n```\r\n\r\n### Configuration Details\r\n\r\n#### SuccessFactors Adapter Configuration\r\n- **Connection Type:** SuccessFactors OData API v2\r\n- **Authentication:** OAuth 2.0 with client credentials\r\n- **Base URL:** `https://{instance}.successfactors.com/odata/v2/`\r\n- **Entity Set:** CompoundEmployee\r\n- **Query Parameters:** Dynamic $filter, $select, $expand\r\n- **Timeout:** 300 seconds\r\n- **Retry Policy:** 3 attempts with exponential backoff\r\n\r\n#### SFTP Adapter Configuration\r\n- **Protocol:** SFTP over SSH\r\n- **Authentication:** Private key authentication\r\n- **Connection Timeout:** 30 seconds\r\n- **Transfer Mode:** Binary for encrypted files\r\n- **Directory Structure:** /incoming/{YYYY}/{MM}/{DD}/\r\n- **File Naming:** EmployeeData_{YYYYMMDD}_{HHMMSS}.csv.pgp\r\n\r\n#### Message Mapping Configuration\r\n- **Source Schema:** SuccessFactors CompoundEmployee XML\r\n- **Target Schema:** NAVEX CSV structure\r\n- **Mapping Rules:** Direct field mapping with data type conversion\r\n- **Functions:** Date formatting, string concatenation, lookup tables\r\n- **Error Handling:** Continue on mapping errors with logging\r\n\r\n## Environment Configuration\r\n\r\n### Required Configuration Parameters\r\n\r\n| Parameter | Description | Example Value | Environment |\r\n|-----------|-------------|---------------|-------------|\r\n| SF_BASE_URL | SuccessFactors OData API base URL | `https://instance.successfactors.com/odata/v2/` | All |\r\n| SF_CLIENT_ID | OAuth client identifier | `sfapi_client_001` | All |\r\n| SF_CLIENT_SECRET | OAuth client secret | `{encrypted}` | All |\r\n| NAVEX_SFTP_HOST | NAVEX SFTP server hostname | `sftp.navex.com` | Production |\r\n| NAVEX_SFTP_USER | NAVEX SFTP username | `pepsico_user` | Production |\r\n| INTERNAL_SFTP_HOST | Internal SFTP server | `internal-sftp.pepsico.com` | All |\r\n| PGP_PUBLIC_KEY | PGP encryption public key | `{key_content}` | All |\r\n| NOTIFICATION_EMAIL | Process notification recipients | `admin@pepsico.com` | All |\r\n\r\n### Environment Variables\r\n\r\n| Variable | Description | Default | Required |\r\n|----------|-------------|---------|----------|\r\n| BATCH_SIZE | SuccessFactors query batch size | 1000 | No |\r\n| RETRY_ATTEMPTS | Connection retry attempts | 3 | No |\r\n| TIMEOUT_SECONDS | API call timeout | 300 | No |\r\n| LOG_LEVEL | Logging verbosity | INFO | No |\r\n| TEMP_DIR | Temporary file storage | /tmp | No |\r\n| MAX_MEMORY | JVM maximum memory | 4G | No |\r\n\r\n### External System Dependencies\r\n\r\n| System | Purpose | Connection Type | Required Access |\r\n|--------|---------|----------------|-----------------|\r\n| SAP SuccessFactors | Employee data source | HTTPS/OAuth | OData API access |\r\n| NAVEX SFTP Server | File delivery target | SFTP/SSH | Write access to incoming directory |\r\n| PepsiCo Internal SFTP | File archiving | SFTP/SSH | Write access to archive directory |\r\n| Email Server | Notifications | SMTP/TLS | Send email privileges |\r\n| Key Management | PGP key storage | HTTPS | Key retrieval access |\r\n\r\n### Security Requirements\r\n\r\n- **Data Encryption:** All files encrypted with PGP before transmission\r\n- **Connection Security:** TLS 1.2+ for all HTTPS connections, SSH v2 for SFTP\r\n- **Authentication:** OAuth 2.0 tokens rotated every 12 hours\r\n- **Access Control:** Role-based access with principle of least privilege\r\n- **Audit Logging:** All transactions logged with 90-day retention\r\n- **Key Management:** PGP keys rotated annually with secure storage\r\n\r\n## API Reference\r\n\r\n### SuccessFactors OData API\r\n\r\n**Base URL:** `https://{instance}.successfactors.com/odata/v2/`\r\n\r\n#### Employee Data Extraction Endpoint\r\n\r\n**Endpoint:** `GET /CompoundEmployee`\r\n\r\n**Authentication:** Bearer token (OAuth 2.0)\r\n\r\n**Query Parameters:**\r\n\r\n#### **Standard OData Parameters**\r\n| Parameter | Type | Required | Default | Description | Example Value |\r\n|-----------|------|----------|---------|-------------|---------------|\r\n| `$filter` | String | No | None | Dynamic WHERE clause with multiple criteria | See filtering examples below |\r\n| `$select` | String | No | All fields | Employee demographic field selection | `person_id_external,first_name,last_name,email` |\r\n| `$expand` | String | No | None | Related entity expansion | `employment_information,personal_information` |\r\n| `$top` | Integer | No | 1000 | Maximum number of records to return | `500` |\r\n| `$skip` | Integer | No | 0 | Number of records to skip for pagination | `1000` |\r\n| `$orderby` | String | No | None | Sort order for results | `last_modified_on desc` |\r\n| `$format` | String | No | JSON | Response format specification | `json` or `xml` |\r\n\r\n#### **SuccessFactors-Specific Parameters**\r\n| Parameter | Type | Required | Description | Example Value |\r\n|-----------|------|----------|-------------|---------------|\r\n| `$filter` | String | No | Complex filtering with SuccessFactors syntax | See detailed examples below |\r\n| `$select` | String | No | Field selection for performance optimization | `person_id_external,first_name,last_name` |\r\n| `$expand` | String | No | Related entity expansion for nested data | `employment_information,personal_information` |\r\n\r\n### **Advanced Filtering Examples**\r\n\r\n#### **Entity-Based Filtering**\r\n| Filter Type | Filter Expression | Business Purpose | Example Values |\r\n|-------------|-------------------|------------------|----------------|\r\n| **Legal Entity** | `legal_entity_code in ('entity1','entity2')` | Filter by organizational structure | `'PEP01','PEP02','PEP03'` |\r\n| **Employee Class** | `employee_class in ('class1','class2')` | Filter by employee role/level | `'REG','CON','TEMP'` |\r\n| **Territory** | `company_territory_code in ('territory1','territory2')` | Filter by geographic region | `'US','CA','MX'` |\r\n| **Employment Status** | `employment_status eq 'A'` | Filter active employees only | `'A' (Active), 'T' (Terminated)` |\r\n\r\n#### **Date-Based Filtering**\r\n| Filter Type | Filter Expression | Business Purpose | Example Values |\r\n|-------------|-------------------|------------------|----------------|\r\n| **Last Modified** | `last_modified_on gt datetime'2024-01-01T00:00:00'` | Delta processing since last run | `2024-01-01T00:00:00` |\r\n| **End Date Range** | `end_date ge datetime'2024-01-01' and end_date le datetime'2024-12-31'` | Fiscal year filtering | `2024-01-01 to 2024-12-31` |\r\n| **Hire Date** | `hire_date ge datetime'2020-01-01'` | New employee filtering | `2020-01-01` |\r\n| **Termination Date** | `termination_date ne null` | Recently terminated employees | `null` (not terminated) |\r\n\r\n#### **Complex Filter Combinations**\r\n| Business Scenario | Filter Expression | Description |\r\n|-------------------|-------------------|-------------|\r\n| **Active US Employees** | `employment_status eq 'A' and company_territory_code eq 'US'` | Filter active employees in US territory |\r\n| **Recent Changes** | `last_modified_on gt datetime'2024-01-01T00:00:00' and (employment_status eq 'A' or employment_status eq 'T')` | Recent employment status changes |\r\n| **Specific Departments** | `employee_class in ('REG','CON') and legal_entity_code eq 'PEP01'` | Regular and contract employees in specific entity |\r\n\r\n#### **Performance Optimization Tips**\r\n| Optimization | Description | Example |\r\n|--------------|-------------|---------|\r\n| **Field Selection** | Use `$select` to limit returned fields | `$select=person_id_external,first_name,last_name,email` |\r\n| **Pagination** | Use `$top` and `$skip` for large datasets | `$top=500&$skip=1000` |\r\n| **Sorting** | Use `$orderby` for consistent data ordering | `$orderby=last_modified_on desc` |\r\n| **Expansion Control** | Limit `$expand` to required entities only | `$expand=employment_information($select=employee_class,status)` |\r\n\r\n### Response Schemas\r\n\r\n#### Success Response (200)\r\n```xml\r\n<CompoundEmployee>\r\n  <person>\r\n    <person_id_external>12345</person_id_external>\r\n    <personal_information>\r\n      <first_name>John</first_name>\r\n      <last_name>Doe</last_name>\r\n    </personal_information>\r\n    <employment_information>\r\n      <email_address>john.doe@company.com</email_address>\r\n      <employment_status>A</employment_status>\r\n      <employee_class>REG</employee_class>\r\n    </employment_information>\r\n  </person>\r\n</CompoundEmployee>\r\n```\r\n\r\n#### Error Response (401)\r\n```json\r\n{\r\n  \"error\": {\r\n    \"code\": \"Unauthorized\",\r\n    \"message\": \"Invalid or expired OAuth token\"\r\n  }\r\n}\r\n```\r\n\r\n### Rate Limiting\r\n- **Default Limit:** 1000 requests per hour per client\r\n- **Burst Limit:** 100 requests per minute\r\n- **Headers:** `X-RateLimit-Remaining`, `X-RateLimit-Reset`\r\n\r\n### Versioning\r\n- **Current Version:** v2\r\n- **Deprecation Policy:** 12 months advance notice\r\n- **Version Header:** `API-Version: 2.0`",
  "markdown_length": 26682,
  "constructed_query": "Create a complete SAP iFlow integration package named 'IFlow_dac35410' with the following requirements from the documentation:\n\n# SuccessFactors Employee Data Synchronization with SFTP Integration\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration provides a comprehensive solution for synchronizing employee data from SAP SuccessFactors to external systems via SFTP delivery. The integration focuses on extracting employee information, transforming it to meet NAVEX requirements, and securely delivering the data through encrypted file transfers.\r\n\r\n**Base URL Pattern:** SAP SuccessFactors OData API endpoints with HTTPS protocol\r\n**Authentication:** OAuth 2.0 for SuccessFactors, SSH key-based authentication for SFTP\r\n**Rate Limiting:** Configurable batch processing with throttling capabilities\r\n**Response Format:** XML from SuccessFactors, CSV output for NAVEX delivery\r\n\r\nThe integration incorporates comprehensive error handling, data validation, and monitoring capabilities to ensure reliable data synchronization between systems.\r\n\r\n## Endpoints\r\n\r\n### SuccessFactors Employee Data Extraction\r\n\r\n**HTTP Method:** GET\r\n**Path Pattern:** `/odata/v2/CompoundEmployee`\r\n\r\n**Purpose:** Extract comprehensive employee data from SuccessFactors including personal information, employment details, and organizational hierarchy.\r\n\r\n**Request Parameters:**\r\n\r\n| Parameter Type | Name | Required | Description |\r\n|----------------|------|----------|\n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "query_length": 2358,
  "markdown_truncated_at": 2000,
  "api_endpoint": "/api/generate-iflow-from-markdown",
  "request_time": "2025-10-23T11:03:10.604888"
}