{
  "timestamp": "20251023_190435",
  "job_id": null,
  "iflow_name": "IFlow_78323264",
  "original_markdown": "# Stripe Subscription to Salesforce Opportunity Integration\r\n\r\n## Table of Contents\r\n- [API Overview](#api-overview)\r\n- [Endpoints](#endpoints)\r\n- [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n  - [Process Flow Overview](#process-flow-overview)\r\n  - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n    - [Step 1: Start Event (shape1)](#step-1-start-event-shape1)\r\n    - [Step 2: Document Properties (shape6)](#step-2-document-properties-shape6)\r\n    - [Step 3: Transform/Map Components (shape4)](#step-3-transformmap-components-shape4)\r\n    - [Step 4: Connector Actions (shape3)](#step-4-connector-actions-shape3)\r\n    - [Step 5: End Events (shape5)](#step-5-end-events-shape5)\r\n- [Boomi Transformations Explained](#boomi-transformations-explained)\r\n- [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n  - [Component Mapping](#component-mapping)\r\n  - [Integration Flow Visualization](#integration-flow-visualization)\r\n  - [Configuration Details](#configuration-details)\r\n- [Environment Configuration](#environment-configuration)\r\n- [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the automatic creation of Salesforce opportunities from Stripe subscription events. The API serves as a webhook endpoint that receives Stripe subscription completion notifications and transforms them into structured Salesforce opportunity records.\r\n\r\n**Business Purpose:** Streamlines the sales-to-revenue process by automatically creating sales opportunities in Salesforce when customers complete subscriptions in Stripe, eliminating manual data entry and ensuring real-time opportunity tracking.\r\n\r\n**Base URL Pattern:** Webhook endpoint configured to receive POST requests from Stripe\r\n**Authentication:** Webhook signature validation using Stripe's signing secret\r\n**Rate Limiting:** Handles Stripe's webhook retry logic with exponential backoff\r\n**Response Format:** Standard HTTP status codes with JSON acknowledgment\r\n\r\n## Endpoints\r\n\r\n### Stripe Webhook Listener\r\n- **HTTP Method:** POST\r\n- **Path:** `/stripe/subscription/completed`\r\n- **Purpose:** Receives Stripe subscription completion webhook events and initiates Salesforce opportunity creation\r\n\r\n**Request Headers:**\r\n- `Stripe-Signature`: Webhook signature for request validation\r\n- `Content-Type`: application/json\r\n\r\n**Request Body Structure:**\r\n```json\r\n{\r\n  \"id\": \"evt_subscription_completed\",\r\n  \"object\": \"event\",\r\n  \"type\": \"customer.subscription.created\",\r\n  \"data\": {\r\n    \"object\": {\r\n      \"id\": \"sub_1234567890\",\r\n      \"customer\": \"cus_customer_id\",\r\n      \"status\": \"active\",\r\n      \"current_period_end\": 1640995200,\r\n      \"items\": {\r\n        \"data\": [\r\n          {\r\n            \"price\": {\r\n              \"product\": \"prod_product_id\",\r\n              \"unit_amount\": 2999\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Response Format:**\r\n- **Success (200):** `{\"status\": \"processed\", \"salesforce_id\": \"006XXXXXXXXXXXXXXX\"}`\r\n- **Error (400):** `{\"error\": \"Invalid webhook signature\"}`\r\n- **Error (500):** `{\"error\": \"Salesforce creation failed\", \"details\": \"error_message\"}`\r\n\r\n## Current Boomi Flow Logic\r\n\r\n### Process Flow Overview\r\n\r\nThis Boomi integration process creates a seamless bridge between Stripe subscription events and Salesforce opportunity management. The process is triggered when Stripe sends subscription completion webhooks, automatically enriches the data with customer and product information, transforms it to Salesforce-compatible format, and creates new opportunities in Salesforce.\r\n\r\nThe integration handles:\r\n1. **Webhook Reception:** Securely receives and validates Stripe webhook events\r\n2. **Dynamic Data Enrichment:** Retrieves additional customer and product details from external APIs\r\n3. **Data Transformation:** Converts Stripe JSON data to Salesforce XML format\r\n4. **Opportunity Creation:** Creates structured opportunity records in Salesforce\r\n5. **Error Handling:** Manages failures and retries appropriately\r\n\r\n### Step-by-Step Flow Description\r\n\r\n---\r\n\r\n#### **Step 1: Start Event (shape1)**\r\n\r\n**Component Type:** Start Event\r\n\r\n**Purpose:** Initiates the integration process when Stripe webhook events are received, serving as the entry point for subscription completion notifications.\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Event Listener\r\n- **Operation:** Webhook receiver for Stripe subscription events\r\n- **Input Profile:** JSON webhook payload from Stripe\r\n- **Trigger Conditions:** Stripe subscription completion events\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Stripe webhook JSON containing subscription and customer data\r\n- **Processing:** Validates webhook signature and parses event data\r\n- **Output:** Validated webhook event data ready for processing\r\n\r\n---\r\n\r\n#### **Step 2: Document Properties (shape6)**\r\n\r\n**Component Type:** Document Properties\r\n\r\n**Purpose:** Enhances the webhook data with dynamic properties calculated from external API calls and data transformations, preparing enriched context for the opportunity creation process.\r\n\r\n**Configuration Details:**\r\n\r\n- **Dynamic Properties:** 4 dynamic document properties configured\r\n  - Dynamic Document Property - DDP_CustomerName: Process property: Dynamic Document Property - DDP_CustomerName\r\n  - Dynamic Document Property - DDP_Subscription: Process property: Dynamic Document Property - DDP_Subscription  \r\n  - Dynamic Document Property - DDP_SalesforceDescription: Process property: Dynamic Document Property - DDP_SalesforceDescription\r\n  - Dynamic Document Property - DDP_CloseDate: Calculated close date property\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Stripe webhook event data\r\n- **Processing:** Calculates and sets dynamic properties for opportunity enrichment\r\n- **Output:** Enhanced data with calculated properties for customer name, subscription details, description, and close date\r\n\r\n---\r\n\r\n#### **Step 3: Transform/Map Components (shape4)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Transforms the enriched Stripe subscription data from JSON format to Salesforce-compatible XML structure for opportunity creation.\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** Subscription Completed JSON (Stripe webhook format)\r\n- **Output Profile:** SF Opportunity CREATE Request XML (Salesforce API format)\r\n- **Transformation Logic:** JSON to XML conversion with field mapping and function integration\r\n- **Function Steps:** 3 DocumentPropertyGet functions for dynamic property retrieval\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Function Output (DDP_SalesforceDescription) | Opportunity/Description | String | Maps calculated description to Salesforce opportunity description field |\r\n| Function Output (DDP_CustomerName) | Opportunity/Name | String | Maps customer name to Salesforce opportunity name field |\r\n| Function Output (DDP_CloseDate) | Opportunity/CloseDate | Date | Maps calculated close date to Salesforce opportunity close date field |\r\n\r\n**Transformation Functions:**\r\n\r\n1. **Get Document Property (DDP_SalesforceDescription):** Retrieves calculated description\r\n2. **Get Document Property (DDP_CustomerName):** Retrieves customer name\r\n3. **Get Document Property (DDP_CloseDate):** Retrieves calculated close date\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Enhanced JSON data with dynamic properties\r\n- **Processing:** Transforms JSON structure to Salesforce XML format with field mapping\r\n- **Output:** Salesforce-compatible XML opportunity creation request\r\n\r\n---\r\n\r\n#### **Step 4: Connector Actions (shape3)**\r\n\r\n**Component Type:** Salesforce Connector\r\n\r\n**Purpose:** Creates new opportunity records in Salesforce using the transformed data from the Stripe subscription events.\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Salesforce\r\n- **Operation:** Create\r\n- **Target Object:** Opportunity\r\n- **Authentication:** Salesforce OAuth or username/password authentication\r\n- **Error Handling:** Salesforce API error handling and retry logic\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce XML opportunity creation request\r\n- **Processing:** Invokes Salesforce API to create opportunity record\r\n- **Output:** Salesforce opportunity creation response with record ID\r\n\r\n---\r\n\r\n#### **Step 5: End Events (shape5)**\r\n\r\n**Component Type:** End Event\r\n\r\n**Purpose:** Completes the integration process and provides final status confirmation for the webhook processing.\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Success completion after opportunity creation\r\n- **Final Actions:** Process completion confirmation\r\n- **Continuation Settings:** Process stops after successful execution\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce creation response\r\n- **Processing:** Finalizes process execution with status confirmation\r\n- **Output:** Process completion status and webhook acknowledgment\r\n\r\n---\r\n\r\n## Boomi Transformations Explained\r\n\r\n### Subscription Completed JSON to SF Opportunity CREATE Request XML\r\n\r\nThis transformation component handles the critical conversion of Stripe webhook data to Salesforce opportunity format.\r\n\r\n**Input Profile:** Subscription Completed JSON\r\n- Stripe webhook event containing subscription, customer, and product information in JSON format\r\n- Includes subscription ID, customer ID, pricing details, and subscription status\r\n- Contains timestamp and metadata from Stripe's webhook system\r\n\r\n**Output Profile:** SF Opportunity CREATE Request XML  \r\n- Salesforce API-compatible XML structure for opportunity creation\r\n- Contains opportunity name, description, close date, and other required Salesforce fields\r\n- Formatted according to Salesforce SOAP API specifications\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Function Output (DDP_SalesforceDescription) | Opportunity/Description | String | Provides detailed opportunity description combining customer and subscription information |\r\n| Function Output (DDP_CustomerName) | Opportunity/Name | String | Sets opportunity name using customer identification from Stripe |\r\n| Function Output (DDP_CloseDate) | Opportunity/CloseDate | Date | Establishes opportunity close date based on subscription timeline calculations |\r\n\r\n**Transformation Functions Details:**\r\n\r\n1. **Get Document Property (DDP_SalesforceDescription)**\r\n   - Retrieves the calculated Salesforce description property\r\n   - Combines customer information with subscription details\r\n   - Formats description for optimal Salesforce opportunity tracking\r\n\r\n2. **Get Document Property (DDP_CustomerName)**\r\n   - Extracts customer name from dynamic property calculations\r\n   - Ensures proper customer identification in opportunity records\r\n   - Handles customer name formatting for Salesforce compatibility\r\n\r\n3. **Get Document Property (DDP_CloseDate)**\r\n   - Retrieves calculated close date for the opportunity\r\n   - Applies business logic for opportunity timeline determination\r\n   - Ensures proper date formatting for Salesforce date fields\r\n\r\nThe transformation ensures that all Stripe subscription data is properly formatted and enriched for optimal opportunity management in Salesforce, maintaining data integrity and business context throughout the conversion process.\r\n\r\n## SAP Integration Suite Implementation\r\n\r\n### Component Mapping\r\n\r\n#### Main Process Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Start Event (shape1) | Start Message Event | Initiates integration flow when Stripe webhook is received |\r\n| Document Properties (shape6) | Content Modifier (Set Properties) | Sets dynamic properties for customer name, subscription details, and close date calculations |\r\n| Map Transform (shape4) | Message Mapping | Transforms Stripe JSON webhook data to Salesforce XML opportunity creation format |\r\n| Salesforce Connector (shape3) | Request Reply with Salesforce Adapter | Creates opportunity records in Salesforce using transformed data |\r\n| End Event (shape5) | End Message Event | Completes integration flow after successful opportunity creation |\r\n\r\n### Integration Flow Visualization\r\n\r\n## Stripe to Salesforce Opportunity Creation Flow\r\n\r\nThis diagram represents the complete integration flow from Stripe webhook reception through Salesforce opportunity creation, including dynamic property enhancement and data transformation steps.\r\n\r\n```mermaid\r\nflowchart TD\r\n    %% Define node styles for SAP Integration Suite components\r\n    classDef httpAdapter fill:#87CEEB,stroke:#333,stroke-width:2px\r\n    classDef contentModifier fill:#98FB98,stroke:#333,stroke-width:2px\r\n    classDef mapping fill:#DDA0DD,stroke:#333,stroke-width:2px\r\n    classDef adapter fill:#FFD700,stroke:#333,stroke-width:2px\r\n    classDef event fill:#C0C0C0,stroke:#333,stroke-width:2px\r\n    classDef errorHandler fill:#FFA07A,stroke:#333,stroke-width:2px\r\n\r\n    %% Main Integration Flow\r\n    Start((\"Start Message Event\")):::event --> StripeWebhook[\"HTTPS Adapter: Stripe Webhook Receiver\"]:::httpAdapter\r\n    StripeWebhook --> SetDynamicProps[\"Content Modifier: Set Dynamic Properties<br/>- DDP_CustomerName<br/>- DDP_Subscription<br/>- DDP_SalesforceDescription<br/>- DDP_CloseDate\"]:::contentModifier\r\n    SetDynamicProps --> TransformData[\"Message Mapping: JSON to XML<br/>Stripe Subscription â†’ SF Opportunity\"]:::mapping\r\n    TransformData --> SalesforceCreate[\"Request Reply: Salesforce Adapter<br/>Create Opportunity Operation\"]:::adapter\r\n    SalesforceCreate --> End((\"End Message Event\")):::event\r\n\r\n    %% Dynamic Properties Detail Subflow\r\n    subgraph DynamicProperties[\"Dynamic Properties Calculation\"]\r\n        GetCustomer[\"HTTP GET: Stripe Customer API<br/>Retrieve Customer Details\"]:::httpAdapter\r\n        GetProduct[\"HTTP GET: Stripe Product API<br/>Retrieve Product Information\"]:::httpAdapter\r\n        ConcatDescription[\"Content Modifier: Concatenate<br/>Customer + Product Details\"]:::contentModifier\r\n        CalcCloseDate[\"Content Modifier: Calculate<br/>Close Date + 90 Days\"]:::contentModifier\r\n        \r\n        GetCustomer --> ConcatDescription\r\n        GetProduct --> ConcatDescription\r\n        ConcatDescription --> CalcCloseDate\r\n    end\r\n\r\n    %% Connect subflow to main flow\r\n    SetDynamicProps -.-> DynamicProperties\r\n    DynamicProperties -.-> TransformData\r\n\r\n    %% Apply styling classes\r\n    class Start,End event\r\n    class StripeWebhook,GetCustomer,GetProduct httpAdapter\r\n    class SetDynamicProps,ConcatDescription,CalcCloseDate contentModifier\r\n    class TransformData mapping\r\n    class SalesforceCreate adapter\r\n```\r\n\r\n### Configuration Details\r\n\r\n#### HTTPS Adapter (Stripe Webhook Receiver)\r\n- **Address:** `/stripe/subscription/completed`\r\n- **HTTP Method:** POST\r\n- **Authentication:** None (webhook signature validation in processing)\r\n- **Content Type:** application/json\r\n- **Response Format:** JSON acknowledgment\r\n\r\n#### Content Modifier (Set Dynamic Properties)\r\n**Required Parameters:**\r\n- **DDP_CustomerName:** `${property.stripe.customer.name}`\r\n- **DDP_Subscription:** `${property.stripe.subscription.id}`\r\n- **DDP_SalesforceDescription:** `${property.calculated.description}`\r\n- **DDP_CloseDate:** `${property.calculated.closedate}`\r\n\r\n**Default Values:**\r\n- **Fallback Customer Name:** \"Unknown Customer\"\r\n- **Default Close Date:** Current date + 90 days\r\n\r\n#### Message Mapping Configuration\r\n**Input Schema:** Stripe Subscription JSON\r\n**Output Schema:** Salesforce Opportunity XML\r\n**Mapping Functions:**\r\n- DocumentPropertyGet for dynamic property retrieval\r\n- Date formatting functions for Salesforce compatibility\r\n- String concatenation for description building\r\n\r\n#### Salesforce Adapter Configuration\r\n- **Connection Type:** Request Reply\r\n- **Object:** Opportunity\r\n- **Operation:** Create\r\n- **Authentication:** OAuth 2.0 or Basic Authentication\r\n- **Endpoint:** Salesforce SOAP API v58.0\r\n- **Timeout:** 30 seconds\r\n- **Retry Logic:** 3 attempts with exponential backoff\r\n\r\n## Environment Configuration\r\n\r\n### Required Configuration Parameters\r\n\r\n| Parameter Category | Parameter Name | Description | Example Value |\r\n|-------------------|----------------|-------------|---------------|\r\n| **Stripe Configuration** | `stripe.webhook.signing.secret` | Webhook signature validation secret | `whsec_1234567890abcdef` |\r\n| **Stripe Configuration** | `stripe.api.key` | Stripe API key for customer/product lookups | `sk_test_1234567890abcdef` |\r\n| **Stripe Configuration** | `stripe.api.base.url` | Stripe API base URL | `https://api.stripe.com/v1` |\r\n| **Salesforce Configuration** | `salesforce.username` | Salesforce integration user username | `integration@company.com` |\r\n| **Salesforce Configuration** | `salesforce.password` | Salesforce integration user password | `encrypted_password` |\r\n| **Salesforce Configuration** | `salesforce.security.token` | Salesforce security token | `token123456789` |\r\n| **Salesforce Configuration** | `salesforce.endpoint` | Salesforce SOAP API endpoint | `https://login.salesforce.com/services/Soap/u/58.0` |\r\n| **Business Rules** | `opportunity.close.date.offset` | Days to add to subscription date for close date | `90` |\r\n| **Business Rules** | `opportunity.stage.name` | Default stage for created opportunities | `Prospecting` |\r\n\r\n### Environment Variables\r\n\r\n| Variable Name | Required | Default | Description |\r\n|---------------|----------|---------|-------------|\r\n| `STRIPE_WEBHOOK_SECRET` | Yes | None | Stripe webhook signing secret for request validation |\r\n| `STRIPE_API_KEY` | Yes | None | Stripe API key for enrichment calls |\r\n| `SALESFORCE_USERNAME` | Yes | None | Salesforce username for API authentication |\r\n| `SALESFORCE_PASSWORD` | Yes | None | Salesforce password for API authentication |\r\n| `SALESFORCE_SECURITY_TOKEN` | Yes | None | Salesforce security token for API access |\r\n| `CLOSE_DATE_OFFSET_DAYS` | No | 90 | Number of days to add to subscription date for opportunity close date |\r\n| `DEFAULT_OPPORTUNITY_STAGE` | No | Prospecting | Default stage name for created opportunities |\r\n| `LOG_LEVEL` | No | INFO | Logging level for integration monitoring |\r\n\r\n### Dependencies on External Systems\r\n\r\n| System | Dependency Type | Purpose | Availability Requirements |\r\n|--------|-----------------|---------|---------------------------|\r\n| **Stripe API** | HTTP REST API | Customer and product detail enrichment | 99.9% uptime, < 2 second response time |\r\n| **Salesforce** | SOAP API | Opportunity creation and management | 99.9% uptime, < 5 second response time |\r\n| **Webhook Endpoint** | HTTP Server | Receive Stripe webhook notifications | 24/7 availability, < 1 second response time |\r\n\r\n### Security Settings\r\n\r\n- **TLS/SSL:** All external communications use TLS 1.2 or higher\r\n- **Authentication:** \r\n  - Stripe: API key authentication with webhook signature validation\r\n  - Salesforce: Username/password with security token or OAuth 2.0\r\n- **Secrets Management:** All credentials stored in encrypted environment variables\r\n- **Network Security:** Firewall rules allowing only required Stripe IP ranges\r\n\r\n### Deployment Considerations\r\n\r\n- **Runtime Environment:** SAP Integration Suite Cloud\r\n- **Memory Requirements:** Minimum 512MB for standard processing\r\n- **CPU Requirements:** Single core sufficient for expected load\r\n- **Network Requirements:** Outbound HTTPS access to Stripe and Salesforce APIs\r\n- **Storage Requirements:** 100MB for temporary data processing\r\n- **Scalability:** Horizontal scaling supported for high-volume webhook processing\r\n\r\n### Required Resources\r\n\r\n| Resource Type | Minimum | Recommended | Notes |\r\n|---------------|---------|-------------|-------|\r\n| **Memory** | 512MB | 1GB | Higher memory for complex transformations |\r\n| **CPU** | 1 vCPU | 2 vCPU | Additional cores improve concurrent processing |\r\n| **Storage** | 100MB | 500MB | Temporary storage for data transformation |\r\n| **Network Bandwidth** | 10 Mbps | 50 Mbps | Sufficient for webhook and API traffic |\r\n| **Concurrent Connections** | 10 | 25 | Handle multiple simultaneous webhooks |\r\n\r\n## API Reference\r\n\r\n### Stripe Webhook API\r\n\r\n#### Webhook Event Reception\r\n- **Endpoint:** `POST /stripe/subscription/completed`\r\n- **Content-Type:** `application/json`\r\n- **Authentication:** Webhook signature validation using `Stripe-Signature` header\r\n\r\n**Request Schema:**\r\n```json\r\n{\r\n  \"id\": \"string\",\r\n  \"object\": \"event\",\r\n  \"api_version\": \"string\",\r\n  \"created\": \"integer\",\r\n  \"data\": {\r\n    \"object\": {\r\n      \"id\": \"string\",\r\n      \"object\": \"subscription\",\r\n      \"customer\": \"string\",\r\n      \"status\": \"string\",\r\n      \"current_period_end\": \"integer\",\r\n      \"current_period_start\": \"integer\"\r\n    }\r\n  },\r\n  \"type\": \"string\"\r\n}\r\n```\r\n\r\n**Response Schema:**\r\n```json\r\n{\r\n  \"status\": \"string\",\r\n  \"salesforce_id\": \"string\",\r\n  \"processed_at\": \"string\"\r\n}\r\n```\r\n\r\n### Salesforce API Integration\r\n\r\n#### Opportunity Creation\r\n- **Object:** Opportunity  \r\n- **Operation:** Create\r\n- **API Version:** v58.0\r\n- **Authentication:** Username/Password or OAuth 2.0\r\n\r\n**Request Schema (XML):**\r\n```xml\r\n<soapenv:Envelope>\r\n  <soapenv:Body>\r\n    <create>\r\n      <sObjects>\r\n        <type>Opportunity</type>\r\n        <Name>string</Name>\r\n        <Description>string</Description>\r\n        <CloseDate>date</CloseDate>\r\n        <StageName>string</StageName>\r\n      </sObjects>\r\n    </create>\r\n  </soapenv:Body>\r\n</soapenv:Envelope>\r\n```\r\n\r\n### Error Codes and Meanings\r\n\r\n| HTTP Status | Error Code | Description | Resolution |\r\n|-------------|------------|-------------|------------|\r\n| 200 | SUCCESS | Opportunity created successfully | No action required |\r\n| 400 | INVALID_SIGNATURE | Webhook signature validation failed | Verify Stripe webhook signing secret |\r\n| 400 | INVALID_PAYLOAD | Webhook payload format invalid | Check Stripe webhook configuration |\r\n| 401 | AUTHENTICATION_FAILED | Salesforce authentication failed | Verify Salesforce credentials |\r\n| 500 | SALESFORCE_ERROR | Salesforce API error | Check Salesforce API limits and field validation |\r\n| 500 | TRANSFORMATION_ERROR | Data transformation failed | Verify field mappings and data formats |\r\n| 503 | SERVICE_UNAVAILABLE | External service unavailable | Retry after service restoration |\r\n\r\n### Rate Limiting Information\r\n\r\n| Service | Rate Limit | Retry Policy | Timeout |\r\n|---------|------------|--------------|---------|\r\n| **Stripe API** | 100 requests/second | Exponential backoff | 30 seconds |\r\n| **Salesforce API** | 1000 calls/24 hours (varies by edition) | Linear backoff | 30 seconds |\r\n| **Webhook Processing** | No artificial limits | Built-in retry logic | 60 seconds total |\r\n\r\n### Versioning Information\r\n\r\n- **Integration Version:** 1.0\r\n- **Stripe API Version:** 2023-10-16\r\n- **Salesforce API Version:** v58.0\r\n- **Boomi Runtime Version:** Compatible with Boomi AtomSphere Platform\r\n- **SAP Integration Suite Version:** Compatible with Cloud Integration",
  "markdown_length": 23088,
  "constructed_query": "Create a complete SAP iFlow integration package named 'IFlow_78323264' with the following requirements from the documentation:\n\n# Stripe Subscription to Salesforce Opportunity Integration\r\n\r\n## Table of Contents\r\n- [API Overview](#api-overview)\r\n- [Endpoints](#endpoints)\r\n- [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n  - [Process Flow Overview](#process-flow-overview)\r\n  - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n    - [Step 1: Start Event (shape1)](#step-1-start-event-shape1)\r\n    - [Step 2: Document Properties (shape6)](#step-2-document-properties-shape6)\r\n    - [Step 3: Transform/Map Components (shape4)](#step-3-transformmap-components-shape4)\r\n    - [Step 4: Connector Actions (shape3)](#step-4-connector-actions-shape3)\r\n    - [Step 5: End Events (shape5)](#step-5-end-events-shape5)\r\n- [Boomi Transformations Explained](#boomi-transformations-explained)\r\n- [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n  - [Component Mapping](#component-mapping)\r\n  - [Integration Flow Visualization](#integration-flow-visualization)\r\n  - [Configuration Details](#configuration-details)\r\n- [Environment Configuration](#environment-configuration)\r\n- [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the automatic creation of Salesforce opportunities from Stripe subscription events. The API serves as a webhook endpoint that receives Stripe subscription completion notifications and transforms them into structured Salesforce opportunity records.\r\n\r\n**Business Purpose:** Streamlines the sales-to-revenue process by automatically creating sales opportunities in Salesforce when customers complete subscriptions in Stripe, eliminating manual data entry and ensuring real-time opportunity tracking.\r\n\r\n**Base URL Pattern:** Webhook endpoint configured to receive POST requests from Stripe\r\n**Authentication:** Webhook signature validation using Stripe's signing secret\r\n**Rate Limiting:** Handles Stripe's webhook retry logic with exponential backoff\r\n**Response Format:** Standard HTTP status codes with JSON acknowledgment\r\n\r\n## \n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "query_length": 2358,
  "markdown_truncated_at": 2000,
  "api_endpoint": "/api/generate-iflow-from-markdown",
  "request_time": "2025-10-23T19:04:35.547334"
}