{
  "timestamp": "20251018_051951",
  "job_id": null,
  "iflow_name": "IFlow_02c7f1ff",
  "original_markdown": "# Salesforce to SAP Customer Integration API\r\n\r\n## Table of Contents\r\n\r\n- [API Overview](#api-overview)\r\n- [Endpoints](#endpoints)\r\n- [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n  - [Process Flow Overview](#process-flow-overview)\r\n  - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n- [Boomi Transformations Explained](#boomi-transformations-explained)\r\n- [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n  - [Component Mapping](#component-mapping)\r\n  - [Integration Flow Visualization](#integration-flow-visualization)\r\n  - [Configuration Details](#configuration-details)\r\n- [Environment Configuration](#environment-configuration)\r\n- [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration provides a comprehensive solution for synchronizing customer data between Salesforce and SAP systems. The API facilitates the creation of SAP customers from Salesforce Account records, maintaining data consistency across both platforms.\r\n\r\n**Primary Purpose:** Automatically create SAP customers when new Salesforce accounts are established, ensuring seamless customer data flow between sales and ERP systems.\r\n\r\n**Base Integration Pattern:** Event-driven customer synchronization with bidirectional status updates\r\n\r\n**Authentication Mechanisms:**\r\n- Salesforce: OAuth 2.0 with refresh tokens\r\n- SAP: RFC/BAPI authentication with user credentials\r\n- Boomi: Platform authentication for process execution\r\n\r\n**Rate Limiting:** Governed by Salesforce API limits and SAP RFC connection pools\r\n\r\n**Response Format:** JSON for Salesforce operations, XML for SAP BAPI responses\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query Endpoint\r\n- **HTTP Method:** GET/QUERY\r\n- **Connector:** SF Account Opp QUERY by Created Date\r\n- **Purpose:** Retrieve Salesforce Account records for processing\r\n- **Object:** Account\r\n- **Query Fields:** Name, BillingCity, BillingState, BillingPostalCode, BillingCountry, BillingStreet\r\n- **Response Format:** Salesforce SOQL XML response\r\n\r\n### SAP Customer Creation Endpoint\r\n- **Service Type:** RFC/BAPI Function Module\r\n- **Function Module:** BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Connector:** Boomi Create Customer Function\r\n- **Purpose:** Create new customer master records in SAP\r\n- **Input Format:** JSON request with customer company data\r\n- **Response Format:** JSON with customer number and status\r\n\r\n### Salesforce Account Update Endpoint\r\n- **HTTP Method:** UPDATE\r\n- **Connector:** SF Account UPDATE Description with SAP Customer Number\r\n- **Object:** Account\r\n- **Purpose:** Update Salesforce Account with SAP customer number\r\n- **Fields Updated:** Description field with SAP customer reference\r\n- **Response Format:** Salesforce update response XML\r\n\r\n## Current Boomi Flow Logic\r\n\r\n### Process Flow Overview\r\n\r\nThis Boomi integration implements a unidirectional customer synchronization pattern that:\r\n\r\n1. **Triggers** on Salesforce Account creation or modification events\r\n2. **Extracts** Account data including billing address information\r\n3. **Transforms** Salesforce Account fields to SAP customer format\r\n4. **Creates** new customer records in SAP using BAPI function modules\r\n5. **Updates** Salesforce Account records with SAP customer numbers\r\n6. **Routes** based on business logic to handle existing customers\r\n\r\nThe process includes built-in decision logic to prevent duplicate customer creation and maintains referential integrity between both systems.\r\n\r\n### Step-by-Step Flow Description\r\n\r\n---\r\n\r\n#### **Step 1: Start Event (shape1)**\r\n\r\n**Component Type:** Start Event\r\n\r\n**Purpose:** Initiates the customer synchronization process when triggered by Salesforce Account changes\r\n\r\n**Configuration Details:**\r\n\r\n- **Trigger Type:** Event-driven process initiation\r\n- **Input Profile:** Salesforce Account QUERY Response XML\r\n- **Expected Data:** Account records with billing information\r\n- **Activation:** Manual trigger or scheduled execution\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account query results in XML format\r\n- **Processing:** Process initialization and data validation\r\n- **Output:** Account data ready for property enhancement\r\n\r\n---\r\n\r\n#### **Step 2: Document Properties (shape9)**\r\n\r\n**Component Type:** Document Properties - Set SF Account ID and SF Account Name\r\n\r\n**Purpose:** Extract and store critical Account identifiers for use throughout the integration process\r\n\r\n**Configuration Details:**\r\n\r\n- **Dynamic Properties Set:** 2 properties\r\n  - **DDP_SF_Account_ID:** Extracts Account ID from query response\r\n  - **DDP_SF_Account_Name:** Extracts Account Name for reference\r\n- **Property Source:** Salesforce Account query response fields\r\n- **Usage:** Referenced in subsequent transformation and update operations\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account XML response data\r\n- **Processing:** Property extraction and storage for process-wide access\r\n- **Output:** Enhanced data context with Account identifiers available\r\n\r\n---\r\n\r\n#### **Step 3: Transform - SF Account to SAP Customer (shape2)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Convert Salesforce Account billing information to SAP customer company data format\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** Salesforce Account QUERY Response XML structure\r\n- **Output Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 JSON request format\r\n- **Transformation Logic:** Direct field mapping with address normalization\r\n- **Function Steps:** Standard field mapping operations\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Account.Name | Customer.NAME | String | Maps Salesforce account name to SAP customer company name |\r\n| Account.BillingCity | Customer.CITY | String | Maps billing city to customer address city |\r\n| Account.BillingState | Customer.REGION | String | Maps billing state to customer region |\r\n| Account.BillingPostalCode | Customer.POSTL_COD1 | String | Maps billing postal code to customer postal code |\r\n| Account.BillingCountry | Customer.COUNTRY | String | Maps billing country to customer country |\r\n| Account.BillingStreet | Customer.STREET | String | Maps billing street address to customer street |\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account XML with billing address data\r\n- **Processing:** Field-level mapping and data type conversion to SAP format\r\n- **Output:** SAP BAPI JSON request ready for customer creation\r\n\r\n---\r\n\r\n#### **Step 4: SAP Customer Creation (shape3)**\r\n\r\n**Component Type:** Boomi Create Customer Function (Generic Connector)\r\n\r\n**Purpose:** Execute SAP BAPI function module to create new customer master record\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Generic (SAP RFC/BAPI)\r\n- **Function Module:** BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Operation:** Customer master data creation\r\n- **Authentication:** SAP system credentials\r\n- **Error Handling:** SAP return message processing\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP BAPI JSON request with customer company data\r\n- **Processing:** Execute customer creation in SAP system\r\n- **Output:** SAP response with customer number (E_CUSTOMERNO) and status\r\n\r\n---\r\n\r\n#### **Step 5: Transform - SAP Response to SF Update (shape10)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Prepare Salesforce Account update with SAP customer number and process dynamic properties\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 Response JSON\r\n- **Output Profile:** Salesforce Account UPDATE Request XML\r\n- **Transformation Logic:** Customer number formatting and description generation\r\n- **Function Steps:** \r\n  - **Get Document Property:** Retrieve DDP_SF_Account_ID\r\n  - **Get Document Property:** Retrieve DDP_SF_Account_Name\r\n  - **Custom Function:** Append \"SAP customer #:\" prefix to customer number\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Response.E_CUSTOMERNO | Account.Description | String | SAP customer number with \"SAP customer #:\" prefix |\r\n| DDP_SF_Account_ID | Account.Id | String | Account identifier for update operation |\r\n| DDP_SF_Account_Name | Account.Name | String | Account name for reference |\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP customer creation response with customer number\r\n- **Processing:** Format customer number with prefix and prepare update payload\r\n- **Output:** Salesforce Account update XML with SAP customer reference\r\n\r\n---\r\n\r\n#### **Step 6: Decision Point - Is it a new account? (shape25)**\r\n\r\n**Component Type:** Decision\r\n\r\n**Purpose:** Determine routing logic based on account status to prevent duplicate customer creation\r\n\r\n**Configuration Details:**\r\n\r\n- **Decision Criteria:** Not equals comparison logic\r\n- **Branch Logic:** Route to customer creation or existing account handling\r\n- **Routing Rules:** \r\n  - **True Path:** Proceed to Salesforce update (shape5)\r\n  - **False Path:** Route to information message (shape21)\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Processed account data with SAP customer information\r\n- **Processing:** Evaluate account status for routing decision\r\n- **Output:** Route data to appropriate processing path\r\n\r\n---\r\n\r\n#### **Step 7a: Salesforce Account Update (shape5)**\r\n\r\n**Component Type:** SF Account UPDATE Description with SAP Customer Number\r\n\r\n**Purpose:** Update Salesforce Account record with SAP customer number reference\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Salesforce\r\n- **Object:** Account\r\n- **Operation:** Update\r\n- **Fields Updated:** Description field with formatted SAP customer number\r\n- **Authentication:** Salesforce OAuth credentials\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account update XML with SAP customer reference\r\n- **Processing:** Execute Account record update in Salesforce\r\n- **Output:** Salesforce update response confirmation\r\n\r\n---\r\n\r\n#### **Step 7b: Information Message (shape21)**\r\n\r\n**Component Type:** Information Message\r\n\r\n**Purpose:** Handle existing customer scenario with informational logging\r\n\r\n**Configuration Details:**\r\n\r\n- **Message Type:** Information notification\r\n- **Content:** \"Account already exists\" status message\r\n- **Logging Level:** Informational\r\n- **Continuation:** Process completion without error\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Account data identified as existing customer\r\n- **Processing:** Log informational message about existing account status\r\n- **Output:** Process completion status\r\n\r\n---\r\n\r\n#### **Step 8: End Events (shape4, shape22)**\r\n\r\n**Component Type:** End Events\r\n\r\n**Purpose:** Process completion for both successful update and existing account scenarios\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Success completion for both paths\r\n- **Final Actions:** Process status logging and cleanup\r\n- **Continuation Settings:** Process termination\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Final processed results from either update or information paths\r\n- **Processing:** Process completion and status recording\r\n- **Output:** Integration completion status with success confirmation\r\n\r\n## Boomi Transformations Explained\r\n\r\n### Map SF Account to SAP Customer (Map Component 1)\r\n\r\n**Purpose:** This transformation converts Salesforce Account billing address fields into the SAP customer company data structure required by the BAPI_CUSTOMER_CREATEFROMDATA1 function module.\r\n\r\n**Input Profile:** Salesforce Account QUERY Response XML structure containing Account records with billing address information.\r\n\r\n**Output Profile:** SAP BAPI JSON request structure with I_PI_COMPANYDATA object containing customer company information fields.\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Account.Name | I_PI_COMPANYDATA.NAME | String | Maps Salesforce account name to SAP customer company name field |\r\n| Account.BillingCity | I_PI_COMPANYDATA.CITY | String | Maps billing address city to SAP customer city field |\r\n| Account.BillingState | I_PI_COMPANYDATA.REGION | String | Maps billing state/province to SAP customer region field |\r\n| Account.BillingPostalCode | I_PI_COMPANYDATA.POSTL_COD1 | String | Maps billing postal code to SAP customer postal code field |\r\n| Account.BillingCountry | I_PI_COMPANYDATA.COUNTRY | String | Maps billing country to SAP customer country field |\r\n| Account.BillingStreet | I_PI_COMPANYDATA.STREET | String | Maps billing street address to SAP customer street field |\r\n\r\n**Transformation Logic:** Direct field mapping with no data manipulation or validation functions. All fields are mapped as string values to maintain data integrity during the SAP customer creation process.\r\n\r\n### Map SAP Response to Salesforce Update (Map Component 2)\r\n\r\n**Purpose:** This transformation prepares the Salesforce Account update request using the SAP customer number returned from the BAPI function, enhanced with dynamic document properties and custom formatting.\r\n\r\n**Input Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 Response JSON containing the newly created customer number (E_CUSTOMERNO) and status information.\r\n\r\n**Output Profile:** Salesforce Account UPDATE Request XML structure for updating the Account Description field with SAP customer reference.\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| E_CUSTOMERNO | Account.Description | String | SAP customer number formatted with \"SAP customer #:\" prefix |\r\n| DDP_SF_Account_ID | Account.Id | String | Salesforce Account ID retrieved from document properties for update targeting |\r\n| DDP_SF_Account_Name | Account.Name | String | Salesforce Account Name retrieved from document properties for reference |\r\n\r\n**Function Steps:**\r\n\r\n1. **Get Document Property (DDP_SF_Account_ID):** Retrieves the Salesforce Account ID stored during initial processing for use in the update operation.\r\n\r\n2. **Get Document Property (DDP_SF_Account_Name):** Retrieves the Salesforce Account Name for reference and validation purposes.\r\n\r\n3. **Custom Function - Append \"SAP customer #:\" and value from field:** Takes the E_CUSTOMERNO from SAP response and formats it with the prefix \"SAP customer #:\" to create a user-friendly description in Salesforce.\r\n\r\n**Transformation Logic:** The transformation combines SAP response data with stored document properties to create a complete Salesforce update payload. The custom function ensures consistent formatting of the SAP customer number reference in the Salesforce Description field.\r\n\r\n## SAP Integration Suite Implementation\r\n\r\n### Component Mapping\r\n\r\n#### Main Process Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Start Event (shape1) | Start Message Event | Process initiation trigger |\r\n| Document Properties (shape9) | Content Modifier (Set Properties) | Dynamic property calculation and storage |\r\n| Map SF Account to SAP (shape2) | Message Mapping | Salesforce Account to SAP customer data transformation |\r\n| Generic Connector (shape3) | Request Reply with RFC Adapter | SAP BAPI customer creation function call |\r\n| Map SAP Response to SF (shape10) | Message Mapping with Functions | SAP response to Salesforce update transformation |\r\n| Decision (shape25) | Router (Exclusive Gateway) | Business logic routing for new vs existing accounts |\r\n| Salesforce Connector (shape5) | Request Reply with Salesforce Adapter | Salesforce Account update operation |\r\n| Information Message (shape21) | Log Message | Informational logging for existing accounts |\r\n| End Events (shape4, shape22) | End Message Events | Process completion points |\r\n\r\n### Integration Flow Visualization\r\n\r\n```mermaid\r\nflowchart TD\r\n    %% Define node styles for SAP Integration Suite components\r\n    classDef httpAdapter fill:#87CEEB,stroke:#333,stroke-width:2px\r\n    classDef contentModifier fill:#98FB98,stroke:#333,stroke-width:2px\r\n    classDef mapping fill:#DDA0DD,stroke:#333,stroke-width:2px\r\n    classDef adapter fill:#FFD700,stroke:#333,stroke-width:2px\r\n    classDef event fill:#C0C0C0,stroke:#333,stroke-width:2px\r\n    classDef router fill:#FFA500,stroke:#333,stroke-width:2px\r\n    classDef logger fill:#F0E68C,stroke:#333,stroke-width:2px\r\n\r\n    %% Main Integration Flow\r\n    Start((\"Start Message Event\")):::event --> SFQuery[\"Salesforce Adapter: Query Accounts\"]:::adapter\r\n    SFQuery --> SetProps[\"Content Modifier: Set Account Properties\"]:::contentModifier\r\n    SetProps --> MapToSAP[\"Message Mapping: SF Account to SAP Customer\"]:::mapping\r\n    MapToSAP --> SAPCreate[\"Request Reply with RFC Adapter: BAPI_CUSTOMER_CREATEFROMDATA1\"]:::adapter\r\n    SAPCreate --> MapToSF[\"Message Mapping: SAP Response to SF Update\"]:::mapping\r\n    MapToSF --> Decision{\"Router: Is New Account?\"}:::router\r\n    \r\n    %% Decision Branches\r\n    Decision -->|\"New Account\"| SFUpdate[\"Salesforce Adapter: Update Account\"]:::adapter\r\n    Decision -->|\"Existing Account\"| InfoLog[\"Log Message: Account Already Exists\"]:::logger\r\n    \r\n    %% Process Completion\r\n    SFUpdate --> EndSuccess((\"End - Success\")):::event\r\n    InfoLog --> EndInfo((\"End - Info\")):::event\r\n\r\n    %% Property Enhancement Detail\r\n    subgraph Properties[\"Dynamic Properties Enhancement\"]\r\n        ExtractID[\"Extract: Account ID\"]:::contentModifier\r\n        ExtractName[\"Extract: Account Name\"]:::contentModifier\r\n        FormatCustomer[\"Format: SAP Customer Number\"]:::contentModifier\r\n    end\r\n\r\n    %% Apply styling\r\n    class SFQuery,SAPCreate,SFUpdate adapter\r\n    class SetProps,ExtractID,ExtractName,FormatCustomer contentModifier\r\n    class MapToSAP,MapToSF mapping\r\n    class Start,EndSuccess,EndInfo event\r\n    class Decision router\r\n    class InfoLog logger\r\n```\r\n\r\n### Configuration Details\r\n\r\n#### Content Modifier - Set Account Properties\r\n- **Dynamic Document Property - DDP_SF_Account_ID**\r\n  - Source: Salesforce Account query response\r\n  - Usage: Referenced in update operation targeting\r\n  - Data Type: String (Salesforce ID format)\r\n\r\n- **Dynamic Document Property - DDP_SF_Account_Name**\r\n  - Source: Salesforce Account query response\r\n  - Usage: Referenced in logging and validation\r\n  - Data Type: String\r\n\r\n#### Message Mapping - SF Account to SAP Customer\r\n- **Input Schema:** Salesforce Account XML structure\r\n- **Output Schema:** SAP BAPI JSON structure\r\n- **Field Mappings:** Direct mapping of billing address fields to customer company data\r\n- **No validation or transformation functions required**\r\n\r\n#### Request Reply - SAP RFC Adapter\r\n- **Connection Type:** RFC (Remote Function Call)\r\n- **Function Module:** BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Import Parameters:** I_PI_COMPANYDATA structure with customer data\r\n- **Export Parameters:** E_CUSTOMERNO (customer number)\r\n- **Error Handling:** SAP return message processing\r\n\r\n#### Message Mapping - SAP Response to SF Update\r\n- **Input Schema:** SAP BAPI response JSON\r\n- **Output Schema:** Salesforce Account update XML\r\n- **Functions:**\r\n  - Document Property retrieval for Account ID and Name\r\n  - Custom string concatenation for customer number formatting\r\n- **Output:** Complete Salesforce update payload\r\n\r\n#### Router - Business Decision Logic\r\n- **Routing Condition:** Account existence validation\r\n- **True Path:** Route to Salesforce update operation\r\n- **False Path:** Route to informational logging\r\n- **Default Path:** Error handling for undefined conditions\r\n\r\n## Environment Configuration\r\n\r\n### Required Configuration Parameters\r\n\r\n| Parameter Category | Parameter Name | Description | Example Value | Required |\r\n|-------------------|----------------|-------------|---------------|----------|\r\n| **Salesforce Connection** | SF_USERNAME | Salesforce integration user | integration@company.com | Yes |\r\n| **Salesforce Connection** | SF_PASSWORD | Salesforce user password | [encrypted] | Yes |\r\n| **Salesforce Connection** | SF_SECURITY_TOKEN | Salesforce security token | [encrypted] | Yes |\r\n| **Salesforce Connection** | SF_LOGIN_URL | Salesforce login endpoint | https://login.salesforce.com | Yes |\r\n| **SAP Connection** | SAP_HOST | SAP application server host | sap.company.com | Yes |\r\n| **SAP Connection** | SAP_SYSTEM_NUMBER | SAP system number | 00 | Yes |\r\n| **SAP Connection** | SAP_CLIENT | SAP client number | 100 | Yes |\r\n| **SAP Connection** | SAP_USERNAME | SAP RFC user | BOOMI_USER | Yes |\r\n| **SAP Connection** | SAP_PASSWORD | SAP RFC password | [encrypted] | Yes |\r\n\r\n### Environment Variables\r\n\r\n| Variable Name | Description | Development Value | Production Value | Notes |\r\n|---------------|-------------|-------------------|------------------|-------|\r\n| `BOOMI_ENVIRONMENT` | Deployment environment | DEV | PROD | Controls logging level |\r\n| `MAX_RECORDS_BATCH` | Maximum records per batch | 100 | 500 | Performance tuning |\r\n| `RETRY_ATTEMPTS` | Connection retry count | 3 | 5 | Error resilience |\r\n| `TIMEOUT_SECONDS` | Operation timeout | 30 | 60 | Network reliability |\r\n\r\n### Dependencies on External Systems\r\n\r\n#### Salesforce Dependencies\r\n- **API Version:** Minimum v50.0 for optimal compatibility\r\n- **Objects Required:** Account object with billing address fields\r\n- **Permissions:** Read/Write access to Account.Description field\r\n- **Rate Limits:** Respect Salesforce daily API call limits\r\n\r\n#### SAP Dependencies\r\n- **Function Module:** BAPI_CUSTOMER_CREATEFROMDATA1 must be available\r\n- **Authorization:** RFC user must have customer creation permissions\r\n- **Network Access:** RFC connectivity to SAP application server\r\n- **Transaction Codes:** Access to customer master transactions (XD01, XD02)\r\n\r\n### Security Settings\r\n\r\n#### Authentication Requirements\r\n- **Salesforce:** OAuth 2.0 with refresh token capability\r\n- **SAP:** RFC authentication with encrypted credentials\r\n- **Boomi:** Platform authentication for process execution\r\n\r\n#### Certificate Management\r\n- **TLS Certificates:** Required for Salesforce HTTPS connections\r\n- **SAP Certificates:** May be required for secure RFC connections\r\n- **Certificate Renewal:** Automated renewal process recommended\r\n\r\n### Deployment Considerations\r\n\r\n#### Resource Requirements\r\n- **Memory:** Minimum 2GB for process execution\r\n- **CPU:** Multi-core processing recommended for parallel operations\r\n- **Network:** Reliable connectivity to both Salesforce and SAP\r\n- **Storage:** Minimal temporary storage for data transformation\r\n\r\n#### Monitoring Requirements\r\n- **Process Monitoring:** Real-time execution status tracking\r\n- **Error Alerting:** Immediate notification for integration failures\r\n- **Performance Metrics:** Execution time and throughput monitoring\r\n- **Audit Logging:** Detailed operation logs for compliance\r\n\r\n## API Reference\r\n\r\n### Salesforce Account Query API\r\n\r\n#### **Standard Salesforce REST Parameters**\r\n| Parameter | Type | Required | Default | Description | Example Value |\r\n|-----------|------|----------|---------|-------------|---------------|\r\n| `q` | String | Yes | None | SOQL query string | `SELECT Name, BillingStreet FROM Account` |\r\n| `sObject` | String | Yes | None | Salesforce object type | `Account` |\r\n\r\n#### **Query Field Selection**\r\n| Field Name | Data Type | Description | Business Purpose |\r\n|------------|-----------|-------------|------------------|\r\n| `Name` | String | Account company name | Primary customer identifier |\r\n| `BillingStreet` | String | Billing address street | Customer address information |\r\n| `BillingCity` | String | Billing address city | Customer city location |\r\n| `BillingState` | String | Billing address state/province | Customer regional information |\r\n| `BillingPostalCode` | String | Billing address postal code | Customer postal information |\r\n| `BillingCountry` | String | Billing address country | Customer country location |\r\n\r\n### SAP BAPI Function Module API\r\n\r\n#### **BAPI_CUSTOMER_CREATEFROMDATA1 Parameters**\r\n| Parameter | Type | Required | Description | Structure |\r\n|-----------|------|----------|-------------|-----------|\r\n| `I_PI_COMPANYDATA` | Import | Yes | Customer company data | BAPI_CUSTOMER_CREATEFROMDATA1_COMPANYDATA |\r\n\r\n#### **Company Data Structure Fields**\r\n| Field Name | Data Type | Max Length | Description | Mapping Source |\r\n|------------|-----------|------------|-------------|----------------|\r\n| `NAME` | String | 35 | Customer company name | Account.Name |\r\n| `STREET` | String | 35 | Street address | Account.BillingStreet |\r\n| `CITY` | String | 35 | City name | Account.BillingCity |\r\n| `REGION` | String | 3 | State/Province code | Account.BillingState |\r\n| `POSTL_COD1` | String | 10 | Postal code | Account.BillingPostalCode |\r\n| `COUNTRY` | String | 3 | Country code | Account.BillingCountry |\r\n\r\n#### **Response Structure**\r\n| Field Name | Data Type | Description | Usage |\r\n|------------|-----------|-------------|-------|\r\n| `E_CUSTOMERNO` | String | Generated SAP customer number | Used in Salesforce update |\r\n| `RETURN` | Table | Status and error messages | Error handling and validation |\r\n\r\n### Error Codes and Handling\r\n\r\n#### **Salesforce Error Responses**\r\n| Error Code | Description | Resolution |\r\n|------------|-------------|------------|\r\n| `INVALID_LOGIN` | Authentication failure | Verify credentials and security token |\r\n| `REQUEST_LIMIT_EXCEEDED` | API limit reached | Implement retry logic with backoff |\r\n| `MALFORMED_QUERY` | Invalid SOQL syntax | Validate query structure |\r\n\r\n#### **SAP BAPI Error Responses**\r\n| Return Type | Description | Resolution |\r\n|-------------|-------------|------------|\r\n| `E` (Error) | Critical error preventing customer creation | Review input data and SAP configuration |\r\n| `W` (Warning) | Warning message with successful creation | Log warning and continue processing |\r\n| `S` (Success) | Successful customer creation | Proceed with Salesforce update |\r\n\r\n### Rate Limiting and Performance\r\n\r\n#### **Salesforce Rate Limits**\r\n- **Daily API Calls:** Based on Salesforce edition and user licenses\r\n- **Concurrent Requests:** Maximum 25 concurrent API calls\r\n- **Bulk API:** Use for large data volumes (>2000 records)\r\n\r\n#### **SAP Performance Considerations**\r\n- **RFC Connection Pool:** Configure appropriate pool size\r\n- **BAPI Performance:** Monitor execution time for large customer data\r\n- **Transaction Commitment:** Ensure proper BAPI commit handling",
  "markdown_length": 26477,
  "constructed_query": "Create a complete SAP iFlow integration package named 'IFlow_02c7f1ff' with the following requirements from the documentation:\n\n# Salesforce to SAP Customer Integration API\r\n\r\n## Table of Contents\r\n\r\n- [API Overview](#api-overview)\r\n- [Endpoints](#endpoints)\r\n- [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n  - [Process Flow Overview](#process-flow-overview)\r\n  - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n- [Boomi Transformations Explained](#boomi-transformations-explained)\r\n- [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n  - [Component Mapping](#component-mapping)\r\n  - [Integration Flow Visualization](#integration-flow-visualization)\r\n  - [Configuration Details](#configuration-details)\r\n- [Environment Configuration](#environment-configuration)\r\n- [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration provides a comprehensive solution for synchronizing customer data between Salesforce and SAP systems. The API facilitates the creation of SAP customers from Salesforce Account records, maintaining data consistency across both platforms.\r\n\r\n**Primary Purpose:** Automatically create SAP customers when new Salesforce accounts are established, ensuring seamless customer data flow between sales and ERP systems.\r\n\r\n**Base Integration Pattern:** Event-driven customer synchronization with bidirectional status updates\r\n\r\n**Authentication Mechanisms:**\r\n- Salesforce: OAuth 2.0 with refresh tokens\r\n- SAP: RFC/BAPI authentication with user credentials\r\n- Boomi: Platform authentication for process execution\r\n\r\n**Rate Limiting:** Governed by Salesforce API limits and SAP RFC connection pools\r\n\r\n**Response Format:** JSON for Salesforce operations, XML for SAP BAPI responses\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query Endpoint\r\n- **HTTP Method:** GET/QUERY\r\n- **Connector:** SF Account Opp QUERY by Created Date\r\n- **Purpose:** Retrieve Salesforce Account records for processing\r\n- **Object:** Account\r\n- **Query Fields:** Name, BillingCity, BillingState, BillingPostalCode, BillingCountry, BillingStreet\r\n- **Response Format:** Sales\n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "query_length": 2358,
  "markdown_truncated_at": 2000,
  "api_endpoint": "/api/generate-iflow-from-markdown",
  "request_time": "2025-10-18T05:19:51.337250"
}