{
  "timestamp": "20251018_055958",
  "job_id": null,
  "iflow_name": "IFlow_53e19d4c",
  "original_markdown": "# Salesforce to SAP Customer Integration API\r\n\r\n## Table of Contents\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n   - [Salesforce Account Query](#salesforce-account-query)\r\n   - [SAP Customer Creation](#sap-customer-creation)\r\n   - [Salesforce Account Update](#salesforce-account-update)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n   - [Map SF Account to SAP Account](#map-sf-account-to-sap-account)\r\n   - [Map SAP Customer Number to Salesforce](#map-sap-customer-number-to-salesforce)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration provides automated synchronization between Salesforce Account records and SAP Customer Master Data. The primary business purpose is to create SAP customers from Salesforce accounts and update the Salesforce account with the generated SAP customer number.\r\n\r\n- **Base Pattern:** Event-driven integration using Salesforce as the source system\r\n- **Authentication:** OAuth 2.0 for Salesforce, configured authentication for SAP\r\n- **Data Format:** XML for Salesforce queries and updates, JSON for SAP BAPI calls\r\n- **Flow Direction:** Bidirectional (Salesforce → SAP → Salesforce)\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query\r\n- **Purpose:** Retrieve account information from Salesforce based on creation date or other criteria\r\n- **Component Type:** Generic connector (SF Account Opp QUERY by Created Date)\r\n- **Data Format:** XML response containing account details\r\n- **Key Fields:** Name, BillingStreet, BillingCity, BillingState, BillingPostalCode, BillingCountry\r\n\r\n### SAP Customer Creation\r\n- **Purpose:** Create new customer master data in SAP using BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Component Type:** Generic connector (Boomi Create Customer Function)\r\n- **Data Format:** JSON request/response\r\n- **BAPI Function:** BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Response Field:** E_CUSTOMERNO (Generated SAP Customer Number)\r\n\r\n### Salesforce Account Update\r\n- **Purpose:** Update Salesforce account with SAP customer number and description\r\n- **Component Type:** Salesforce connector\r\n- **Object:** Account\r\n- **Action:** Update\r\n- **Fields Updated:** Description (with SAP customer number), Id, Name\r\n\r\n## Current Boomi Flow Logic\r\n\r\n### Process Flow Overview\r\n\r\nThis Boomi integration implements a real-time synchronization pattern between Salesforce and SAP for customer master data creation. The process is triggered by Salesforce account events and ensures bidirectional data consistency.\r\n\r\n**Process Trigger:** Salesforce account creation or update events\r\n**Main Processing Steps:** \r\n1. Query Salesforce account data\r\n2. Set dynamic document properties for tracking\r\n3. Transform Salesforce account to SAP customer format\r\n4. Create customer in SAP via BAPI\r\n5. Evaluate if new customer was created\r\n6. Update Salesforce with SAP customer number or handle existing customer scenario\r\n\r\n**Data Transformations:** Salesforce account fields mapped to SAP customer company data structure\r\n**External System Interactions:** Salesforce Account queries/updates and SAP BAPI function calls\r\n**Expected Outcomes:** SAP customer created and Salesforce account updated with customer number\r\n\r\n### Step-by-Step Flow Description\r\n\r\n---\r\n\r\n#### **Step 1: Start Event (shape1)**\r\n\r\n**Component Type:** Start Event\r\n\r\n**Purpose:** Initialize the integration process to handle Salesforce account synchronization\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Generic connector trigger\r\n- **Operation:** Listen for incoming account data\r\n- **Input Profile:** Salesforce Account query response XML\r\n- **Trigger Conditions:** Account creation or modification events\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce account query response containing account details\r\n- **Processing:** Process initialization and data validation\r\n- **Output:** Account data ready for property enhancement\r\n\r\n---\r\n\r\n#### **Step 2: Document Properties (shape9)**\r\n\r\n**Component Type:** Document Properties\r\n\r\n**Purpose:** Set dynamic document properties for account ID and name tracking throughout the process\r\n\r\n**Configuration Details:**\r\n\r\n- **Dynamic Properties:** 2 dynamic document properties configured\r\n  - DDP_SF_Account_ID: Captures Salesforce Account ID for tracking\r\n  - DDP_SF_Account_Name: Captures Salesforce Account Name for tracking\r\n- **Property Source:** Process property configuration\r\n- **Scope:** Available throughout the integration flow\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce account query response\r\n- **Processing:** Extract account ID and name, store as dynamic properties\r\n- **Output:** Enhanced data flow with tracking properties set\r\n\r\n---\r\n\r\n#### **Step 3: Transform SF Account to SAP Format (shape2)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Transform Salesforce Account data structure to SAP BAPI_CUSTOMER_CREATEFROMDATA1 JSON format\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SF Account QUERY Response XML\r\n- **Output Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Request JSON\r\n- **Transformation Logic:** Direct field mapping from Salesforce billing address to SAP company data\r\n- **Function Steps:** Standard field mapping operations\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Name | IMPORT/I_PI_COMPANYDATA/NAME | String | Maps Salesforce account name to SAP customer company name |\r\n| BillingStreet | IMPORT/I_PI_COMPANYDATA/STREET | String | Maps billing address street to SAP customer street address |\r\n| BillingCity | IMPORT/I_PI_COMPANYDATA/CITY | String | Maps billing city to SAP customer city |\r\n| BillingState | IMPORT/I_PI_COMPANYDATA/REGION | String | Maps billing state to SAP customer region |\r\n| BillingPostalCode | IMPORT/I_PI_COMPANYDATA/POSTL_COD1 | String | Maps billing postal code to SAP customer postal code |\r\n| BillingCountry | IMPORT/I_PI_COMPANYDATA/COUNTRY | String | Maps billing country to SAP customer country |\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account XML with billing address information\r\n- **Processing:** Field-by-field mapping to SAP BAPI structure\r\n- **Output:** JSON formatted SAP BAPI request for customer creation\r\n\r\n---\r\n\r\n#### **Step 4: SAP Customer Creation (shape3)**\r\n\r\n**Component Type:** Generic Connector Action\r\n\r\n**Purpose:** Execute SAP BAPI function to create new customer master data\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Generic (Boomi Create Customer Function)\r\n- **Operation:** Call SAP BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Target System:** SAP ERP system\r\n- **Authentication:** Configured SAP connection credentials\r\n- **Error Handling:** Standard SAP BAPI error response processing\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** JSON formatted BAPI request with customer company data\r\n- **Processing:** SAP customer master data creation via BAPI function\r\n- **Output:** BAPI response JSON containing E_CUSTOMERNO (new customer number)\r\n\r\n---\r\n\r\n#### **Step 5: Transform SAP Response to Salesforce Update (shape10)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Transform SAP BAPI response to Salesforce Account update XML format\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Response JSON\r\n- **Output Profile:** SF Account UPDATE Request XML\r\n- **Transformation Logic:** Extract customer number and prepare Salesforce update\r\n- **Function Steps:** Custom function to append SAP customer prefix, Document Property retrieval\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| E_CUSTOMERNO | Account/Description | String | SAP customer number formatted with \"SAP customer #:\" prefix |\r\n| DDP_SF_Account_ID | Account/Id | String | Retrieved from document properties for record identification |\r\n| DDP_SF_Account_Name | Account/Name | String | Retrieved from document properties for record identification |\r\n\r\n**Function Details:**\r\n- **Custom Function:** \"Append 'SAP customer #:' and value from field\" - formats customer number with business prefix\r\n- **Document Property Functions:** Retrieve DDP_SF_Account_ID and DDP_SF_Account_Name values\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP BAPI response with generated customer number\r\n- **Processing:** Format customer number, retrieve tracking properties, build Salesforce update\r\n- **Output:** Salesforce Account update XML with customer number in description field\r\n\r\n---\r\n\r\n#### **Step 6: Decision Point (shape25)**\r\n\r\n**Component Type:** Decision\r\n\r\n**Purpose:** Evaluate whether a new SAP customer was successfully created\r\n\r\n**Configuration Details:**\r\n\r\n- **Decision Criteria:** \"Is it a new account?\" evaluation\r\n- **Logic Type:** notequals comparison\r\n- **Branch Logic:** Route to either Salesforce update or existing customer notification\r\n- **Routing Rules:** Success path vs. existing customer path\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP BAPI response data for evaluation\r\n- **Processing:** Determine if customer creation was successful or if customer already exists\r\n- **Output:** Route data to appropriate next step based on creation status\r\n\r\n---\r\n\r\n#### **Step 7A: Salesforce Account Update (shape5)**\r\n\r\n**Component Type:** Salesforce Connector Action\r\n\r\n**Purpose:** Update Salesforce account record with SAP customer number\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Salesforce\r\n- **Object:** Account\r\n- **Operation:** Update\r\n- **Authentication:** Salesforce OAuth connection\r\n- **Error Handling:** Salesforce API error response handling\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account update XML with customer number\r\n- **Processing:** Execute Salesforce Account update operation\r\n- **Output:** Salesforce update confirmation response\r\n\r\n---\r\n\r\n#### **Step 7B: Existing Customer Notification (shape21)**\r\n\r\n**Component Type:** Information Message\r\n\r\n**Purpose:** Handle scenario where SAP customer already exists\r\n\r\n**Configuration Details:**\r\n\r\n- **Message Type:** Informational notification\r\n- **Message Content:** \"Account already exists\"\r\n- **Processing Action:** Log existing customer scenario\r\n- **Continuation:** Process continues to completion\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Data indicating existing customer scenario\r\n- **Processing:** Generate informational message about existing customer\r\n- **Output:** Notification message for process monitoring\r\n\r\n---\r\n\r\n#### **Step 8: End Events (shape4, shape22)**\r\n\r\n**Component Type:** End Event\r\n\r\n**Purpose:** Complete the integration process with appropriate success or informational status\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Success completion for both paths\r\n- **Final Actions:** Process completion logging\r\n- **Continuation Settings:** Process stops after completion\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Final processed results (either update confirmation or existing customer notification)\r\n- **Processing:** Process completion and cleanup\r\n- **Output:** Integration completion status and final results\r\n\r\n## Boomi Transformations Explained\r\n\r\n### Map SF Account to SAP Account\r\n\r\nThis transformation converts Salesforce Account billing information into the SAP BAPI_CUSTOMER_CREATEFROMDATA1 JSON structure required for customer creation.\r\n\r\n**Input Profile:** SF Account QUERY Response XML\r\n- Standard Salesforce Account object with billing address fields\r\n- Contains Name, BillingStreet, BillingCity, BillingState, BillingPostalCode, BillingCountry\r\n\r\n**Output Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Request JSON\r\n- SAP BAPI structure with IMPORT/I_PI_COMPANYDATA object\r\n- Contains company name and address fields in SAP format\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Name | IMPORT/I_PI_COMPANYDATA/NAME | String | Company name for SAP customer master |\r\n| BillingStreet | IMPORT/I_PI_COMPANYDATA/STREET | String | Primary address line for customer |\r\n| BillingCity | IMPORT/I_PI_COMPANYDATA/CITY | String | City for customer address |\r\n| BillingState | IMPORT/I_PI_COMPANYDATA/REGION | String | State/region for customer address |\r\n| BillingPostalCode | IMPORT/I_PI_COMPANYDATA/POSTL_COD1 | String | Postal code for customer address |\r\n| BillingCountry | IMPORT/I_PI_COMPANYDATA/COUNTRY | String | Country code for customer address |\r\n\r\n**Transformation Logic:** Direct field mapping with no complex functions or business rules applied\r\n\r\n### Map SAP Customer Number to Salesforce\r\n\r\nThis transformation takes the SAP BAPI response containing the generated customer number and prepares a Salesforce Account update with formatted customer information.\r\n\r\n**Input Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Response JSON\r\n- Contains E_CUSTOMERNO field with the generated SAP customer number\r\n- Standard SAP BAPI response structure\r\n\r\n**Output Profile:** SF Account UPDATE Request XML\r\n- Salesforce Account update structure with Id, Name, and Description fields\r\n- Formatted for Salesforce Account object update operation\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| E_CUSTOMERNO | Account/Description | String | SAP customer number with business formatting |\r\n| DDP_SF_Account_ID | Account/Id | String | Salesforce record identifier for update operation |\r\n| DDP_SF_Account_Name | Account/Name | String | Account name for record identification |\r\n\r\n**Function Steps:**\r\n1. **Custom Function:** \"Append 'SAP customer #:' and value from field\"\r\n   - Takes E_CUSTOMERNO as input\r\n   - Adds \"SAP customer #:\" prefix for business readability\r\n   - Outputs formatted string for Description field\r\n\r\n2. **Document Property Functions:**\r\n   - **Get Document Property (DDP_SF_Account_ID):** Retrieves stored account ID\r\n   - **Get Document Property (DDP_SF_Account_Name):** Retrieves stored account name\r\n\r\n**Default Values:** None specified - all values come from function outputs or document properties\r\n\r\n**Complete Mapping Configuration:** The transformation uses function-based mapping where the SAP customer number is processed through a custom formatting function, and account identification comes from previously stored document properties.\r\n\r\n## SAP Integration Suite Implementation\r\n\r\n### Component Mapping\r\n\r\n#### Main Process Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Start Event (shape1) | Start Message Event | Initialize integration flow for account processing |\r\n| Document Properties (shape9) | Content Modifier (Set Properties) | Set dynamic properties for account ID and name tracking |\r\n| Map Transform (shape2) | Message Mapping | Transform SF Account XML to SAP BAPI JSON format |\r\n| Generic Connector (shape3) | HTTPS Adapter (Receiver) | Execute SAP BAPI function call for customer creation |\r\n| Map Transform (shape10) | Message Mapping | Transform SAP BAPI response to SF Account update XML |\r\n| Decision (shape25) | Router (Exclusive Gateway) | Route based on customer creation success/failure |\r\n| Salesforce Connector (shape5) | Salesforce Adapter | Update Salesforce Account with SAP customer number |\r\n| Message (shape21) | Content Modifier (Set Body) | Handle existing customer notification message |\r\n| End Events (shape4, shape22) | End Message Event | Complete integration flow processing |\r\n\r\n#### Connector Mapping\r\n| Boomi Connector | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| SF Account Query (generic) | Salesforce Adapter (Sender) | Query Salesforce Account records |\r\n| SAP Customer Function (generic) | HTTPS Adapter with SAP connectivity | Execute SAP BAPI_CUSTOMER_CREATEFROMDATA1 |\r\n| SF Account Update (salesforce) | Salesforce Adapter (Receiver) | Update Salesforce Account records |\r\n\r\n### Integration Flow Visualization\r\n\r\n```mermaid\r\nflowchart TD\r\n    %% Define node styles for SAP Integration Suite components\r\n    classDef salesforceAdapter fill:#87CEEB,stroke:#333,stroke-width:2px\r\n    classDef contentModifier fill:#98FB98,stroke:#333,stroke-width:2px\r\n    classDef messageMapping fill:#DDA0DD,stroke:#333,stroke-width:2px\r\n    classDef httpsAdapter fill:#FFD700,stroke:#333,stroke-width:2px\r\n    classDef event fill:#C0C0C0,stroke:#333,stroke-width:2px\r\n    classDef router fill:#FFA07A,stroke:#333,stroke-width:2px\r\n\r\n    %% Main Integration Flow\r\n    Start((\"Start Event\")):::event --> SFQuery[\"Salesforce Adapter: Account Query\"]:::salesforceAdapter\r\n    SFQuery --> SetProps[\"Content Modifier: Set Dynamic Properties<br/>DDP_SF_Account_ID, DDP_SF_Account_Name\"]:::contentModifier\r\n    SetProps --> MapToSAP[\"Message Mapping: SF Account to SAP BAPI<br/>Billing Address → Company Data\"]:::messageMapping\r\n    MapToSAP --> SAPCustomer[\"HTTPS Adapter: SAP BAPI Customer Creation<br/>BAPI_CUSTOMER_CREATEFROMDATA1\"]:::httpsAdapter\r\n    SAPCustomer --> MapToSF[\"Message Mapping: SAP Response to SF Update<br/>E_CUSTOMERNO → Account Description\"]:::messageMapping\r\n    MapToSF --> Decision{\"Router: Is New Account?<br/>Evaluate Customer Creation Status\"}:::router\r\n    \r\n    %% Success Path\r\n    Decision -->|\"New Customer Created\"| SFUpdate[\"Salesforce Adapter: Update Account<br/>Set Description with SAP Customer Number\"]:::salesforceAdapter\r\n    SFUpdate --> EndSuccess((\"End Success\")):::event\r\n    \r\n    %% Existing Customer Path\r\n    Decision -->|\"Customer Already Exists\"| ExistingMsg[\"Content Modifier: Set Message<br/>Account Already Exists Information\"]:::contentModifier\r\n    ExistingMsg --> EndInfo((\"End Info\")):::event\r\n\r\n    %% Styling\r\n    class SFQuery,SFUpdate salesforceAdapter\r\n    class SetProps,ExistingMsg contentModifier\r\n    class MapToSAP,MapToSF messageMapping\r\n    class SAPCustomer httpsAdapter\r\n    class Start,EndSuccess,EndInfo event\r\n    class Decision router\r\n```\r\n\r\n### Configuration Details\r\n\r\n#### Content Modifier: Set Dynamic Properties\r\n**Required Parameters:**\r\n- **Property Name 1:** DDP_SF_Account_ID\r\n- **Property Value 1:** ${xpath.evaluate('//Account/Id', body)} or similar expression\r\n- **Property Name 2:** DDP_SF_Account_Name  \r\n- **Property Value 2:** ${xpath.evaluate('//Account/Name', body)} or similar expression\r\n\r\n#### Message Mapping: SF Account to SAP BAPI\r\n**Required Parameters:**\r\n- **Source Message Type:** Salesforce Account Query Response XML\r\n- **Target Message Type:** SAP BAPI JSON Request\r\n- **Mapping Logic:** Direct field mapping as detailed in transformations section\r\n\r\n#### HTTPS Adapter: SAP BAPI Customer Creation\r\n**Required Parameters:**\r\n- **Connection:** SAP System Connection\r\n- **Address:** SAP BAPI endpoint URL\r\n- **Authentication:** SAP authentication credentials\r\n- **Message Protocol:** HTTP/HTTPS\r\n- **HTTP Method:** POST\r\n- **Content Type:** application/json\r\n\r\n#### Router: Decision Logic\r\n**Required Parameters:**\r\n- **Condition 1:** Customer creation successful (new customer number present)\r\n- **Condition 2:** Customer already exists (error response pattern)\r\n- **Default Route:** Error handling path\r\n\r\n#### Salesforce Adapter Configuration\r\n**Required Parameters:**\r\n- **Connection:** Salesforce OAuth connection\r\n- **Object:** Account\r\n- **Operation:** Update\r\n- **Message Type:** Salesforce Account Update XML\r\n\r\n## Environment Configuration\r\n\r\n### Connection Parameters\r\n- **Salesforce Connection:** OAuth 2.0 with appropriate API version and security token\r\n- **SAP Connection:** RFC/HTTP connection with proper authentication credentials\r\n- **Network Access:** Outbound connectivity to both Salesforce and SAP systems\r\n\r\n### Required Environment Variables\r\n- **SF_CLIENT_ID:** Salesforce connected app client ID\r\n- **SF_CLIENT_SECRET:** Salesforce connected app client secret  \r\n- **SF_USERNAME:** Salesforce integration user username\r\n- **SF_PASSWORD:** Salesforce integration user password and security token\r\n- **SAP_HOST:** SAP system hostname or IP address\r\n- **SAP_CLIENT:** SAP client number\r\n- **SAP_USER:** SAP integration user credentials\r\n- **SAP_PASSWORD:** SAP integration user password\r\n\r\n### Security Configuration\r\n- **TLS/SSL:** Required for all external connections\r\n- **Certificate Management:** Valid certificates for SAP and Salesforce connections\r\n- **Access Control:** Proper user roles and permissions in both systems\r\n- **API Limits:** Consider Salesforce API limits and SAP concurrent connection limits\r\n\r\n### Deployment Requirements\r\n- **Runtime:** SAP Integration Suite Cloud tenant\r\n- **Memory:** Minimum 512MB for standard processing\r\n- **CPU:** Standard processing power for real-time integration\r\n- **Storage:** Minimal temporary storage for message processing\r\n- **Monitoring:** Integration flow monitoring and alerting setup\r\n\r\n## API Reference\r\n\r\n### Salesforce Account Query API\r\n**Endpoint:** Salesforce Account Query\r\n**Method:** Query\r\n**Authentication:** OAuth 2.0\r\n**Request Format:** SOQL Query\r\n**Response Format:** XML\r\n\r\n**Query Parameters:**\r\n| Parameter | Type | Required | Description | Example Value |\r\n|-----------|------|----------|-------------|---------------|\r\n| q | String | Yes | SOQL query for Account records | SELECT Id, Name, BillingStreet, BillingCity FROM Account |\r\n| CreatedDate | DateTime | No | Filter by creation date | 2024-01-01T00:00:00Z |\r\n\r\n### SAP Customer Creation API\r\n**Endpoint:** SAP BAPI_CUSTOMER_CREATEFROMDATA1\r\n**Method:** POST\r\n**Authentication:** SAP Authentication\r\n**Request Format:** JSON\r\n**Response Format:** JSON\r\n\r\n**Request Schema:**\r\n```json\r\n{\r\n  \"IMPORT\": {\r\n    \"I_PI_COMPANYDATA\": {\r\n      \"NAME\": \"string\",\r\n      \"STREET\": \"string\", \r\n      \"CITY\": \"string\",\r\n      \"REGION\": \"string\",\r\n      \"POSTL_COD1\": \"string\",\r\n      \"COUNTRY\": \"string\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Response Schema:**\r\n```json\r\n{\r\n  \"E_CUSTOMERNO\": \"string\",\r\n  \"RETURN\": {\r\n    \"TYPE\": \"string\",\r\n    \"MESSAGE\": \"string\"\r\n  }\r\n}\r\n```\r\n\r\n### Salesforce Account Update API\r\n**Endpoint:** Salesforce Account Update\r\n**Method:** Update\r\n**Authentication:** OAuth 2.0\r\n**Request Format:** XML\r\n**Response Format:** XML\r\n\r\n**Request Schema:**\r\n```xml\r\n<Account>\r\n  <Id>string</Id>\r\n  <Name>string</Name>\r\n  <Description>string</Description>\r\n</Account>\r\n```\r\n\r\n**Error Codes:**\r\n- **200:** Success - Customer created successfully\r\n- **400:** Bad Request - Invalid input data\r\n- **401:** Unauthorized - Authentication failure\r\n- **500:** Internal Server Error - System error in SAP or Salesforce",
  "markdown_length": 23097,
  "constructed_query": "Create a complete SAP iFlow integration package named 'IFlow_53e19d4c' with the following requirements from the documentation:\n\n# Salesforce to SAP Customer Integration API\r\n\r\n## Table of Contents\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n   - [Salesforce Account Query](#salesforce-account-query)\r\n   - [SAP Customer Creation](#sap-customer-creation)\r\n   - [Salesforce Account Update](#salesforce-account-update)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n   - [Map SF Account to SAP Account](#map-sf-account-to-sap-account)\r\n   - [Map SAP Customer Number to Salesforce](#map-sap-customer-number-to-salesforce)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration provides automated synchronization between Salesforce Account records and SAP Customer Master Data. The primary business purpose is to create SAP customers from Salesforce accounts and update the Salesforce account with the generated SAP customer number.\r\n\r\n- **Base Pattern:** Event-driven integration using Salesforce as the source system\r\n- **Authentication:** OAuth 2.0 for Salesforce, configured authentication for SAP\r\n- **Data Format:** XML for Salesforce queries and updates, JSON for SAP BAPI calls\r\n- **Flow Direction:** Bidirectional (Salesforce → SAP → Salesforce)\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query\r\n- **Purpose:** Retrieve account information from Salesforce based on creation date or other criteria\r\n- **Component Type:** Generic connector (SF Account Opp QUERY by Created Date)\r\n- **Data Format:** XML response containing account details\r\n- **Key Fields:** Name, Bi\n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "query_length": 2358,
  "markdown_truncated_at": 2000,
  "api_endpoint": "/api/generate-iflow-from-markdown",
  "request_time": "2025-10-18T05:59:58.288549"
}