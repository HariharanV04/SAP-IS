{
  "timestamp": "20251023_114401",
  "job_id": null,
  "iflow_name": "IFlow_18b6a5ed",
  "original_markdown": "# Salesforce to SAP Customer Creation Integration\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n   - [Transform 1: Map SF Account to SAP Customer](#transform-1-map-sf-account-to-sap-customer)\r\n   - [Transform 2: Map SAP Response to Salesforce](#transform-2-map-sap-response-to-salesforce)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the automated creation of customer records in SAP when new accounts are created in Salesforce, establishing a seamless data synchronization between CRM and ERP systems.\r\n\r\n**Business Purpose:** Ensures that all Salesforce accounts are properly reflected as customer records in SAP, maintaining data consistency across sales and financial systems.\r\n\r\n**Integration Pattern:** Real-time data synchronization with bidirectional updates for customer number assignment.\r\n\r\n**Authentication:** \r\n- Salesforce: OAuth 2.0 or Session-based authentication\r\n- SAP: RFC/BAPI authentication with service user credentials\r\n\r\n**Data Flow Direction:** Salesforce (Source) → SAP (Target) → Salesforce (Update)\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query Endpoint\r\n- **HTTP Method:** GET\r\n- **Purpose:** Retrieve new or updated Salesforce accounts for processing\r\n- **Authentication:** Salesforce session token or OAuth bearer token\r\n- **Response Format:** XML with account details including billing address information\r\n\r\n**Request Parameters:**\r\n- Query criteria for new accounts based on created date or modified date\r\n- Field selection for Name, BillingCity, BillingState, BillingPostalCode, BillingCountry, BillingStreet\r\n\r\n### SAP BAPI_CUSTOMER_CREATEFROMDATA1 Endpoint\r\n- **HTTP Method:** POST (RFC Call)\r\n- **Purpose:** Create new customer records in SAP using company data\r\n- **Authentication:** SAP service user credentials\r\n- **Request Format:** JSON with customer company data structure\r\n- **Response Format:** JSON with customer number (E_CUSTOMERNO) and creation status\r\n\r\n### Salesforce Account Update Endpoint\r\n- **HTTP Method:** POST/PATCH\r\n- **Purpose:** Update Salesforce account with SAP customer number\r\n- **Authentication:** Salesforce session token\r\n- **Request Format:** XML with account ID and customer number description\r\n- **Response Format:** Salesforce update response with success/failure status\r\n\r\n## Current Boomi Flow Logic\r\n\r\n### Process Flow Overview\r\n\r\nThis Boomi integration process orchestrates the creation of SAP customer records from Salesforce accounts with real-time bidirectional updates. The process ensures data consistency between CRM and ERP systems by:\r\n\r\n1. **Account Retrieval:** Queries Salesforce for new accounts based on creation criteria\r\n2. **Dynamic Property Management:** Captures and stores account identifiers for cross-system referencing\r\n3. **Data Transformation:** Maps Salesforce account fields to SAP customer data structure\r\n4. **Customer Creation:** Invokes SAP BAPI to create customer records with proper company data\r\n5. **Decision Logic:** Determines if account processing was successful and routes accordingly\r\n6. **Bidirectional Update:** Updates Salesforce with assigned SAP customer numbers\r\n7. **Error Handling:** Manages scenarios where accounts already exist or creation fails\r\n\r\n### Step-by-Step Flow Description\r\n\r\n---\r\n\r\n#### **Step 1: Start Event (shape1)**\r\n\r\n**Component Type:** Start Event\r\n\r\n**Purpose:** Initiates the integration process when triggered by new Salesforce account creation or scheduled batch processing\r\n\r\n**Configuration Details:**\r\n\r\n- **Trigger Type:** On-demand or scheduled execution\r\n- **Input Format:** Salesforce account query response XML\r\n- **Data Structure:** Account records with billing information and metadata\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce account data including Name, BillingCity, BillingState, BillingPostalCode, BillingCountry, BillingStreet\r\n- **Processing:** Process initiation and data validation\r\n- **Output:** Validated account data ready for property extraction\r\n\r\n---\r\n\r\n#### **Step 2: Set SF Account ID and SF Account Name (shape9)**\r\n\r\n**Component Type:** Document Properties\r\n\r\n**Purpose:** Extract and store critical account identifiers for use throughout the integration process\r\n\r\n**Configuration Details:**\r\n\r\n- **Dynamic Properties:** 2 properties configured for account tracking\r\n  - **Dynamic Document Property - DDP_SF_Account_ID:** Process property: Dynamic Document Property - DDP_SF_Account_ID\r\n  - **Dynamic Document Property - DDP_SF_Account_Name:** Process property: Dynamic Document Property - DDP_SF_Account_Name\r\n- **Property Source:** Extracted from incoming Salesforce account data\r\n- **Scope:** Available throughout entire process execution\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Raw Salesforce account XML data\r\n- **Processing:** Property extraction and storage for cross-step referencing\r\n- **Output:** Enhanced data context with stored account identifiers\r\n\r\n---\r\n\r\n#### **Step 3: Transform SF Account to SAP Customer Data (shape2)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Convert Salesforce account structure to SAP BAPI_CUSTOMER_CREATEFROMDATA1 JSON format\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SF Account QUERY Response XML\r\n- **Output Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Request JSON\r\n- **Transformation Logic:** Direct field mappings from Salesforce billing address to SAP customer company data\r\n- **Map Component:** \"Map SF Account to Boomi for SAP account\"\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Name | IMPORT/I_PI_COMPANYDATA/NAME | String | Maps Salesforce account name to SAP customer company name |\r\n| BillingCity | IMPORT/I_PI_COMPANYDATA/CITY | String | Maps billing city to customer address city |\r\n| BillingState | IMPORT/I_PI_COMPANYDATA/REGION | String | Maps billing state to customer region |\r\n| BillingPostalCode | IMPORT/I_PI_COMPANYDATA/POSTL_COD1 | String | Maps billing postal code to customer postal code |\r\n| BillingCountry | IMPORT/I_PI_COMPANYDATA/COUNTRY | String | Maps billing country to customer country |\r\n| BillingStreet | IMPORT/I_PI_COMPANYDATA/STREET | String | Maps billing street to customer street address |\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account XML with billing address fields\r\n- **Processing:** Field-by-field mapping to SAP customer company data structure\r\n- **Output:** JSON payload ready for SAP BAPI invocation\r\n\r\n---\r\n\r\n#### **Step 4: SAP Customer Creation (shape3)**\r\n\r\n**Component Type:** Boomi Create Customer Function Connector\r\n\r\n**Purpose:** Execute SAP BAPI_CUSTOMER_CREATEFROMDATA1 to create new customer record in SAP system\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Generic connector for SAP RFC/BAPI calls\r\n- **Operation:** BAPI_CUSTOMER_CREATEFROMDATA1 function execution\r\n- **Target System:** SAP ERP system\r\n- **Authentication:** SAP service user credentials\r\n- **Error Handling:** SAP return codes and error message processing\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** JSON request with customer company data structure\r\n- **Processing:** SAP BAPI execution for customer creation\r\n- **Output:** SAP response with customer number (E_CUSTOMERNO) and status codes\r\n\r\n---\r\n\r\n#### **Step 5: Transform SAP Response to Salesforce Update (shape10)**\r\n\r\n**Component Type:** Map/Transform\r\n\r\n**Purpose:** Convert SAP customer creation response to Salesforce account update format with customer number assignment\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Response JSON\r\n- **Output Profile:** SF Account UPDATE Request XML\r\n- **Transformation Logic:** Extract customer number and prepare Salesforce update\r\n- **Map Component:** \"Map SAP account number to SF\"\r\n\r\n**Transformation Functions:**\r\n\r\n- **Append \"SAP customer #:\" and value from field** (Custom function)\r\n- **Get Document Property** (Process Property retrieval for account ID and name)\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP response JSON with E_CUSTOMERNO field\r\n- **Processing:** Customer number extraction and Salesforce update preparation\r\n- **Output:** XML payload for Salesforce account update with customer number\r\n\r\n---\r\n\r\n#### **Step 6: Decision Point - Is it a new account? (shape25)**\r\n\r\n**Component Type:** Decision\r\n\r\n**Purpose:** Evaluate whether the customer creation was successful and determine appropriate processing path\r\n\r\n**Configuration Details:**\r\n\r\n- **Decision Criteria:** Compare operation results using \"notequals\" logic\r\n- **Branch Logic:** Route to successful processing or existing account handling\r\n- **Evaluation:** Business decision: Is it a new account?\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Processed data with customer creation results\r\n- **Processing:** Success/failure evaluation and routing decision\r\n- **Output:** Routing decision directing flow to appropriate next step\r\n\r\n---\r\n\r\n#### **Step 7A: Successful Account Update (shape5)**\r\n\r\n**Component Type:** SF Account UPDATE Connector\r\n\r\n**Purpose:** Update Salesforce account with assigned SAP customer number for successful creations\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Salesforce connector\r\n- **Object:** Account\r\n- **Operation:** Update operation\r\n- **Target Field:** Description field with customer number information\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce update XML with account ID and customer number\r\n- **Processing:** Salesforce account update execution\r\n- **Output:** Updated Salesforce account with SAP customer number reference\r\n\r\n---\r\n\r\n#### **Step 7B: Account Already Exists Information (shape21)**\r\n\r\n**Component Type:** Information/Notification\r\n\r\n**Purpose:** Handle scenario where account already exists in SAP system\r\n\r\n**Configuration Details:**\r\n\r\n- **Message Type:** Informational notification\r\n- **Content:** \"INFORMATION: Account already exists\"\r\n- **Processing Action:** Log information and continue to completion\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Data indicating existing account condition\r\n- **Processing:** Information logging and status recording\r\n- **Output:** Process continuation with appropriate status\r\n\r\n---\r\n\r\n#### **Step 8A: Success End Event (shape4)**\r\n\r\n**Component Type:** End Event\r\n\r\n**Purpose:** Complete successful processing path with proper status reporting\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Successful completion with customer creation\r\n- **Final Actions:** Process completion logging\r\n- **Status:** Success status for monitoring and reporting\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Successfully processed account data with SAP customer number\r\n- **Processing:** Final status logging and completion actions\r\n- **Output:** Process completion with success status\r\n\r\n---\r\n\r\n#### **Step 8B: Information End Event (shape22)**\r\n\r\n**Component Type:** End Event\r\n\r\n**Purpose:** Complete information path for existing account scenarios\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Informational completion\r\n- **Final Actions:** Log existing account status\r\n- **Status:** Information status for existing account condition\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Account data with existing customer information\r\n- **Processing:** Status logging for existing account scenario\r\n- **Output:** Process completion with information status\r\n\r\n## Boomi Transformations Explained\r\n\r\n### Transform 1: Map SF Account to SAP Customer\r\n\r\n**Purpose:** This transformation converts Salesforce account billing address information into the SAP customer company data structure required by BAPI_CUSTOMER_CREATEFROMDATA1.\r\n\r\n**Input Profile:** Salesforce Account QUERY Response XML\r\n- Name: Account name field\r\n- BillingCity: Billing address city\r\n- BillingState: Billing address state/region\r\n- BillingPostalCode: Billing postal/zip code\r\n- BillingCountry: Billing country\r\n- BillingStreet: Billing street address\r\n\r\n**Output Profile:** SAP BAPI Customer Creation JSON\r\n- IMPORT/I_PI_COMPANYDATA structure with customer company information\r\n- Field mappings to SAP-specific field names and formats\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Name | I_PI_COMPANYDATA.NAME | String | Company name for SAP customer master |\r\n| BillingCity | I_PI_COMPANYDATA.CITY | String | Customer address city information |\r\n| BillingState | I_PI_COMPANYDATA.REGION | String | Customer region/state for address |\r\n| BillingPostalCode | I_PI_COMPANYDATA.POSTL_COD1 | String | Postal code for customer address |\r\n| BillingCountry | I_PI_COMPANYDATA.COUNTRY | String | Country code for customer location |\r\n| BillingStreet | I_PI_COMPANYDATA.STREET | String | Street address for customer master |\r\n\r\n**Configuration Details:**\r\n- Direct field mappings with no complex transformations\r\n- All mappings preserve data types and formats\r\n- Address components mapped to corresponding SAP customer fields\r\n\r\n### Transform 2: Map SAP Response to Salesforce\r\n\r\n**Purpose:** This transformation extracts the SAP-assigned customer number from the BAPI response and prepares a Salesforce account update with formatted customer number information.\r\n\r\n**Input Profile:** SAP BAPI Response JSON\r\n- E_CUSTOMERNO: SAP-assigned customer number\r\n- Status and return code information\r\n\r\n**Output Profile:** Salesforce Account Update XML\r\n- Account ID from document properties\r\n- Description field with formatted customer number\r\n- Name field for reference\r\n\r\n**Transformation Functions:**\r\n\r\n**Append \"SAP customer #:\" and value from field** (Custom Function)\r\n- **Purpose:** Format customer number with descriptive prefix for Salesforce display\r\n- **Input:** Raw SAP customer number (E_CUSTOMERNO)\r\n- **Output:** Formatted string \"SAP customer #: [customer_number]\"\r\n\r\n**Get Document Property Functions:**\r\n- **Dynamic Document Property - DDP_SF_Account_ID:** Retrieves stored Salesforce account ID\r\n- **Dynamic Document Property - DDP_SF_Account_Name:** Retrieves stored Salesforce account name\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| E_CUSTOMERNO | Account.Description | String | SAP customer number formatted for Salesforce display |\r\n| DDP_SF_Account_ID | Account.Id | String | Salesforce account ID for update targeting |\r\n| DDP_SF_Account_Name | Account.Name | String | Account name for reference and validation |\r\n\r\n**Configuration Details:**\r\n- Custom function formats customer number with business-friendly prefix\r\n- Document properties provide cross-step data continuity\r\n- Update structure targets specific Salesforce account by ID\r\n\r\n## SAP Integration Suite Implementation\r\n\r\n### Component Mapping\r\n\r\n#### Main Process Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Start Event (shape1) | Start Message Event | Process initiation trigger |\r\n| Set SF Account ID and SF Account Name (shape9) | Content Modifier (Set Properties) | Extract and store account identifiers |\r\n| Transform SF Account to SAP (shape2) | Message Mapping | Convert Salesforce data to SAP format |\r\n| SAP Customer Creation (shape3) | Request Reply with HTTPS Adapter | Execute SAP BAPI for customer creation |\r\n| Transform SAP Response (shape10) | Message Mapping with Groovy Script | Format SAP response for Salesforce update |\r\n| Decision: Is it a new account? (shape25) | Router (Exclusive Gateway) | Route based on creation success |\r\n| SF Account Update (shape5) | Salesforce Adapter (Receiver) | Update Salesforce with customer number |\r\n| Information Message (shape21) | Content Modifier (Log Message) | Handle existing account scenario |\r\n| End Events (shape4, shape22) | End Message Event | Process completion |\r\n\r\n### Integration Flow Visualization\r\n\r\n```mermaid\r\nflowchart TD\r\n    %% Define node styles for SAP Integration Suite components\r\n    classDef salesforceAdapter fill:#87CEEB,stroke:#333,stroke-width:2px\r\n    classDef contentModifier fill:#98FB98,stroke:#333,stroke-width:2px\r\n    classDef mapping fill:#DDA0DD,stroke:#333,stroke-width:2px\r\n    classDef httpsAdapter fill:#FFD700,stroke:#333,stroke-width:2px\r\n    classDef event fill:#C0C0C0,stroke:#333,stroke-width:2px\r\n    classDef router fill:#FFA07A,stroke:#333,stroke-width:2px\r\n\r\n    Start((\"Start Process\")):::event --> SFQuery[\"Salesforce Adapter: Query New Accounts\"]:::salesforceAdapter\r\n    SFQuery --> SetProperties[\"Content Modifier: Set SF Account Properties\"]:::contentModifier\r\n    SetProperties --> MapToSAP[\"Message Mapping: SF Account to SAP Customer\"]:::mapping\r\n    MapToSAP --> SAPCustomer[\"HTTPS Adapter: SAP BAPI Customer Creation\"]:::httpsAdapter\r\n    SAPCustomer --> MapResponse[\"Message Mapping: SAP Response to SF Update\"]:::mapping\r\n    MapResponse --> Decision{\"Router: New Account Check\"}:::router\r\n    \r\n    Decision -->|\"Success\"| UpdateSF[\"Salesforce Adapter: Update Account Description\"]:::salesforceAdapter\r\n    Decision -->|\"Already Exists\"| InfoLog[\"Content Modifier: Log Account Exists\"]:::contentModifier\r\n    \r\n    UpdateSF --> SuccessEnd((\"Success End\")):::event\r\n    InfoLog --> InfoEnd((\"Information End\")):::event\r\n\r\n    %% Property Detail Subgraph\r\n    subgraph PropertyDetails[\"Dynamic Properties\"]\r\n        ExtractID[\"Extract: SF Account ID\"]:::contentModifier\r\n        ExtractName[\"Extract: SF Account Name\"]:::contentModifier\r\n    end\r\n    \r\n    SetProperties -.-> PropertyDetails\r\n```\r\n\r\n### Configuration Details\r\n\r\n#### Content Modifier (Set SF Account Properties)\r\n- **Dynamic Properties:**\r\n  - DDP_SF_Account_ID: XPath extraction from Salesforce query response\r\n  - DDP_SF_Account_Name: XPath extraction for account name reference\r\n- **Property Scope:** Process-level for cross-step availability\r\n- **Data Source:** Incoming Salesforce account XML payload\r\n\r\n#### Message Mapping (SF Account to SAP Customer)\r\n- **Source Schema:** Salesforce Account XML structure\r\n- **Target Schema:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 JSON\r\n- **Mapping Rules:**\r\n  - Direct field mappings for address components\r\n  - Data type preservation and format validation\r\n  - Required field population for SAP customer master\r\n\r\n#### HTTPS Adapter (SAP BAPI Customer Creation)\r\n- **Connection Type:** HTTPS with SAP authentication\r\n- **Target Endpoint:** SAP system RFC/BAPI gateway\r\n- **Request Format:** JSON with customer company data\r\n- **Response Handling:** Extract E_CUSTOMERNO and status codes\r\n- **Error Processing:** SAP return code evaluation and error routing\r\n\r\n#### Message Mapping (SAP Response Processing)\r\n- **Custom Functions:** Customer number formatting with business prefix\r\n- **Document Property Integration:** Account ID and name retrieval\r\n- **Output Structure:** Salesforce Account update XML format\r\n- **Field Population:** Description field with formatted customer number\r\n\r\n#### Router (Decision Logic)\r\n- **Routing Condition:** Evaluation of customer creation success\r\n- **Branch 1:** Successful creation → Salesforce update path\r\n- **Branch 2:** Existing customer → Information logging path\r\n- **Condition Logic:** SAP response code analysis for routing decision\r\n\r\n#### Salesforce Adapter (Account Update)\r\n- **Operation:** Account object update\r\n- **Target Field:** Description field with customer number\r\n- **Identification:** Account ID from document properties\r\n- **Authentication:** Salesforce OAuth or session-based\r\n- **Error Handling:** Salesforce API error code processing\r\n\r\n## Environment Configuration\r\n\r\n### Required Configuration Parameters\r\n\r\n**SAP System Configuration:**\r\n- SAP Host: Target SAP system hostname or IP address\r\n- SAP Client: SAP client number for customer creation\r\n- RFC Gateway: Gateway host and service for BAPI access\r\n- Service User: Dedicated service account with customer creation privileges\r\n- Connection Pool: Minimum 2, Maximum 10 concurrent connections\r\n\r\n**Salesforce Configuration:**\r\n- Salesforce Endpoint: Production or sandbox URL\r\n- API Version: Minimum v54.0 for account operations\r\n- Authentication Method: OAuth 2.0 with refresh token or session-based\r\n- Query Limits: Configured for batch processing requirements\r\n- Field Access: Read access to account billing fields, write access to description\r\n\r\n**Process Properties:**\r\n- DDP_SF_Account_ID: Dynamic document property for account identification\r\n- DDP_SF_Account_Name: Dynamic document property for account name reference\r\n- Error Handling: Exception routing for system failures\r\n- Logging Level: INFO for standard operations, DEBUG for troubleshooting\r\n\r\n### Security Requirements\r\n\r\n- **SAP Authentication:** RFC/BAPI user credentials with customer creation authorization\r\n- **Salesforce Security:** OAuth tokens with Account object read/write permissions\r\n- **Network Security:** TLS 1.2 minimum for all external communications\r\n- **Data Privacy:** No sensitive data logging in process execution logs\r\n\r\n### Deployment Considerations\r\n\r\n**Runtime Environment:**\r\n- SAP Integration Suite Cloud runtime\r\n- Memory Allocation: Minimum 2GB for concurrent processing\r\n- CPU Requirements: 2+ cores for parallel execution capability\r\n\r\n**Monitoring Configuration:**\r\n- Process execution monitoring with success/failure tracking\r\n- Alert notifications for system connectivity issues\r\n- Performance metrics collection for optimization analysis\r\n- Audit logging for compliance and troubleshooting requirements\r\n\r\n## API Reference\r\n\r\n### Salesforce Account Query API\r\n\r\n**Endpoint:** `/services/data/v54.0/query`\r\n**Method:** GET\r\n**Authentication:** Bearer token (OAuth 2.0)\r\n\r\n**Query Parameters:**\r\n| Parameter | Type | Required | Description | Example Value |\r\n|-----------|------|----------|-------------|---------------|\r\n| q | String | Yes | SOQL query for account selection | `SELECT Name, BillingCity, BillingState FROM Account WHERE CreatedDate = TODAY` |\r\n\r\n**Response Schema:**\r\n```json\r\n{\r\n  \"totalSize\": 1,\r\n  \"done\": true,\r\n  \"records\": [\r\n    {\r\n      \"Name\": \"Company Name\",\r\n      \"BillingCity\": \"New York\",\r\n      \"BillingState\": \"NY\",\r\n      \"BillingPostalCode\": \"10001\",\r\n      \"BillingCountry\": \"USA\",\r\n      \"BillingStreet\": \"123 Main St\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### SAP BAPI Customer Creation API\r\n\r\n**Function:** `BAPI_CUSTOMER_CREATEFROMDATA1`\r\n**Protocol:** RFC/BAPI over HTTPS\r\n**Authentication:** SAP service user credentials\r\n\r\n**Request Structure:**\r\n```json\r\n{\r\n  \"IMPORT\": {\r\n    \"I_PI_COMPANYDATA\": {\r\n      \"NAME\": \"Company Name\",\r\n      \"CITY\": \"New York\", \r\n      \"REGION\": \"NY\",\r\n      \"POSTL_COD1\": \"10001\",\r\n      \"COUNTRY\": \"US\",\r\n      \"STREET\": \"123 Main St\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Response Structure:**\r\n```json\r\n{\r\n  \"EXPORT\": {\r\n    \"E_CUSTOMERNO\": \"0000012345\",\r\n    \"RETURN\": {\r\n      \"TYPE\": \"S\",\r\n      \"MESSAGE\": \"Customer created successfully\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### Salesforce Account Update API\r\n\r\n**Endpoint:** `/services/data/v54.0/sobjects/Account/{Id}`\r\n**Method:** PATCH\r\n**Authentication:** Bearer token (OAuth 2.0)\r\n\r\n**Request Body:**\r\n```json\r\n{\r\n  \"Description\": \"SAP customer #: 0000012345\"\r\n}\r\n```\r\n\r\n**Response Codes:**\r\n- **200 OK:** Account updated successfully\r\n- **400 Bad Request:** Invalid account ID or field data\r\n- **401 Unauthorized:** Authentication failure\r\n- **404 Not Found:** Account not found\r\n\r\n**Error Handling:**\r\nAll API endpoints include comprehensive error handling with specific error codes and messages for troubleshooting and process monitoring.",
  "markdown_length": 24090,
  "constructed_query": "Create a complete SAP iFlow integration package named 'IFlow_18b6a5ed' with the following requirements from the documentation:\n\n# Salesforce to SAP Customer Creation Integration\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n   - [Transform 1: Map SF Account to SAP Customer](#transform-1-map-sf-account-to-sap-customer)\r\n   - [Transform 2: Map SAP Response to Salesforce](#transform-2-map-sap-response-to-salesforce)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the automated creation of customer records in SAP when new accounts are created in Salesforce, establishing a seamless data synchronization between CRM and ERP systems.\r\n\r\n**Business Purpose:** Ensures that all Salesforce accounts are properly reflected as customer records in SAP, maintaining data consistency across sales and financial systems.\r\n\r\n**Integration Pattern:** Real-time data synchronization with bidirectional updates for customer number assignment.\r\n\r\n**Authentication:** \r\n- Salesforce: OAuth 2.0 or Session-based authentication\r\n- SAP: RFC/BAPI authentication with service user credentials\r\n\r\n**Data Flow Direction:** Salesforce (Source) → SAP (Target) → Salesforce (Update)\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query Endpoint\r\n- **HTTP Method:** GET\r\n- **Purpose:** Retrieve new or updated Salesforce accounts for processing\r\n- **Authentication:** Salesforce session token or OAuth bearer token\r\n- **Response Format:** XML with account details including billing address information\r\n\r\n**Re\n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "query_length": 2358,
  "markdown_truncated_at": 2000,
  "api_endpoint": "/api/generate-iflow-from-markdown",
  "request_time": "2025-10-23T11:44:01.361033"
}