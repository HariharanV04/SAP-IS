{
  "timestamp": "20251023_113040",
  "job_id": null,
  "iflow_name": "IFlow_cdad3980",
  "original_markdown": "# Salesforce to SAP Customer Integration API\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the synchronization of customer data between Salesforce and SAP systems using Dell Boomi as the integration platform. The primary business purpose is to automatically create customer records in SAP when new accounts are created in Salesforce, ensuring data consistency across both systems.\r\n\r\n**Base URL Pattern:**\r\n- Salesforce API: `https://[instance].salesforce.com/services/data/v[version]/`\r\n- SAP API: `https://[sap-host]:[port]/sap/bc/rest/`\r\n\r\n**Authentication Mechanisms:**\r\n- Salesforce: OAuth 2.0 with JWT Bearer Token Flow\r\n- SAP: Basic Authentication or OAuth 2.0\r\n\r\n**General Response Format:**\r\n- Salesforce: JSON format with standard REST API structure\r\n- SAP: JSON format for BAPI function responses\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query Endpoint\r\n\r\n**HTTP Method:** GET\r\n**Path:** `/services/data/v[version]/query/`\r\n\r\n**Purpose:** Query Salesforce Account records based on creation date criteria\r\n\r\n**Request Parameters:**\r\n- **Query (q):** SOQL query string to filter accounts by creation date\r\n- **Headers:**\r\n  - `Authorization: Bearer [access_token]`\r\n  - `Content-Type: application/json`\r\n\r\n**Response Format:**\r\n- Status Code: 200 (Success)\r\n- Body: JSON array containing Account records with fields: Id, Name, BillingStreet, BillingCity, BillingState, BillingPostalCode, BillingCountry\r\n\r\n### SAP Customer Creation Endpoint\r\n\r\n**HTTP Method:** POST\r\n**Path:** `/sap/bc/rest/bapi_customer_createfromdata1`\r\n\r\n**Purpose:** Create new customer records in SAP using BAPI function\r\n\r\n**Request Body Structure:**\r\n```json\r\n{\r\n  \"IMPORT\": {\r\n    \"I_PI_COMPANYDATA\": {\r\n      \"NAME\": \"string\",\r\n      \"STREET\": \"string\", \r\n      \"CITY\": \"string\",\r\n      \"REGION\": \"string\",\r\n      \"POSTL_COD1\": \"string\",\r\n      \"COUNTRY\": \"string\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Response Format:**\r\n- Status Code: 200 (Success)\r\n- Body: JSON containing E_CUSTOMERNO (newly created customer number)\r\n\r\n### Salesforce Account Update Endpoint\r\n\r\n**HTTP Method:** PATCH\r\n**Path:** `/services/data/v[version]/sobjects/Account/[AccountId]`\r\n\r\n**Purpose:** Update Salesforce Account record with SAP customer number\r\n\r\n**Request Body Structure:**\r\n```json\r\n{\r\n  \"Description\": \"SAP customer #:[customer_number]\"\r\n}\r\n```\r\n\r\n## Current Boomi Flow Logic\r\n\r\n### Process Flow Overview\r\n\r\nThis Boomi integration process automatically creates SAP customers from new Salesforce accounts and updates the Salesforce records with the generated SAP customer numbers. The process includes data validation, transformation, and bidirectional synchronization between the two systems.\r\n\r\n**Process Trigger:** Scheduled execution or manual trigger to query recent Salesforce account changes\r\n\r\n**Main Processing Steps:**\r\n1. Query new/modified Salesforce accounts\r\n2. Extract and transform account data for SAP format\r\n3. Create customers in SAP using BAPI function\r\n4. Update Salesforce accounts with SAP customer numbers\r\n5. Handle duplicate account scenarios\r\n\r\n**External System Interactions:**\r\n- Salesforce REST API for account querying and updating\r\n- SAP BAPI for customer creation\r\n- Document properties for dynamic data handling\r\n\r\n### Step-by-Step Flow Description\r\n\r\n---\r\n\r\n#### **Step 1: Start Event (shape1)**\r\n\r\n**Component Type:** Start Event\r\n\r\n**Purpose:** Initiates the integration process to synchronize Salesforce accounts with SAP customer creation\r\n\r\n**Configuration Details:**\r\n\r\n- **Trigger Type:** Scheduled or Manual\r\n- **Input Profile:** Salesforce Account Query Response\r\n- **Process Properties:** Dynamic document properties for account tracking\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Process initiation trigger\r\n- **Processing:** Initialize process execution context\r\n- **Output:** Process control flow to document properties setup\r\n\r\n---\r\n\r\n#### **Step 2: Document Properties (shape9)**\r\n\r\n**Component Type:** Document Properties - Set SF Account ID and SF Account Name\r\n\r\n**Purpose:** Extract and store Salesforce Account ID and Name as dynamic document properties for later reference\r\n\r\n**Configuration Details:**\r\n\r\n- **Dynamic Properties:** \r\n  - Dynamic Document Property - DDP_SF_Account_ID: Process property: Dynamic Document Property - DDP_SF_Account_ID\r\n  - Dynamic Document Property - DDP_SF_Account_Name: Process property: Dynamic Document Property - DDP_SF_Account_Name\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account data from query response\r\n- **Processing:** Extract Account ID and Name fields and store as document properties\r\n- **Output:** Enhanced process context with account identifiers for downstream processing\r\n\r\n---\r\n\r\n#### **Step 3: Transform/Map Components (shape2)**\r\n\r\n**Component Type:** Map - Transform: SF Account QUERY Response XML-> Boomi for SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Request JSON\r\n\r\n**Purpose:** Transform Salesforce Account data structure to SAP BAPI function input format\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** Salesforce Account Query Response XML\r\n- **Output Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 Request JSON\r\n- **Transformation Logic:** Direct field mapping with data type conversion\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Salesforce Account records in XML format\r\n- **Processing:** Field-by-field transformation from Salesforce to SAP format\r\n- **Output:** SAP BAPI function request payload in JSON format\r\n\r\n---\r\n\r\n#### **Step 4: Connector Action (shape3)**\r\n\r\n**Component Type:** Boomi Create Customer Function - Generic Connector\r\n\r\n**Purpose:** Execute SAP BAPI function to create new customer records in SAP system\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Generic (SAP BAPI)\r\n- **Operation:** BAPI_CUSTOMER_CREATEFROMDATA1\r\n- **Target Object:** SAP Customer Master\r\n- **Authentication:** SAP system authentication\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP BAPI function request with customer data\r\n- **Processing:** Execute customer creation in SAP system\r\n- **Output:** SAP response with generated customer number (E_CUSTOMERNO)\r\n\r\n---\r\n\r\n#### **Step 5: Transform/Map Components (shape10)**\r\n\r\n**Component Type:** Map - Transform: Boomi for SAP BAPI_CUSTOMER_CREATEFROMDATA1 FUNCTION Response JSON -> SF Account UPDATE Request XML\r\n\r\n**Purpose:** Transform SAP customer creation response to Salesforce Account update format\r\n\r\n**Configuration Details:**\r\n\r\n- **Input Profile:** SAP BAPI Response JSON\r\n- **Output Profile:** Salesforce Account Update Request XML\r\n- **Transformation Logic:** Extract customer number and format for Salesforce Description field\r\n- **Function Steps:** \r\n  - DocumentPropertyGet for Account ID and Name\r\n  - Custom function to append \"SAP customer #:\" prefix\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** SAP BAPI response with customer number\r\n- **Processing:** Extract customer number, retrieve account properties, format description field\r\n- **Output:** Salesforce Account update request with SAP customer number reference\r\n\r\n---\r\n\r\n#### **Step 6: Decision Point (shape25)**\r\n\r\n**Component Type:** Decision - Is it a new account?\r\n\r\n**Purpose:** Determine if the account requires SAP customer creation or if customer already exists\r\n\r\n**Configuration Details:**\r\n\r\n- **Decision Criteria:** notequals comparison logic\r\n- **Branch Logic:** Route to customer creation or information message\r\n- **Routing Rules:** New accounts proceed to SAP update, existing accounts skip to notification\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Account data with validation criteria\r\n- **Processing:** Evaluate account status and determine processing path\r\n- **Output:** Routing decision directing flow to appropriate branch\r\n\r\n---\r\n\r\n#### **Step 7: Connector Action (shape5)**\r\n\r\n**Component Type:** SF Account UPDATE Description with SAP Customer Number - Salesforce Connector\r\n\r\n**Purpose:** Update Salesforce Account record with generated SAP customer number\r\n\r\n**Configuration Details:**\r\n\r\n- **Connector Type:** Salesforce\r\n- **Operation:** Update\r\n- **Target Object:** Account\r\n- **Authentication:** Salesforce OAuth 2.0\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Account update request with SAP customer number\r\n- **Processing:** Execute Salesforce Account record update\r\n- **Output:** Salesforce update confirmation response\r\n\r\n---\r\n\r\n#### **Step 8: Information Component (shape21)**\r\n\r\n**Component Type:** Information Message - INFORMATION: Account already exists\r\n\r\n**Purpose:** Handle scenario where account already has associated SAP customer\r\n\r\n**Configuration Details:**\r\n\r\n- **Message Type:** Informational\r\n- **Content:** Account already exists notification\r\n- **Routing:** Alternative path for existing accounts\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Account data for existing customer scenario\r\n- **Processing:** Generate informational message for logging\r\n- **Output:** Process completion notification for existing accounts\r\n\r\n---\r\n\r\n#### **Step 9: End Events (shape4, shape22)**\r\n\r\n**Component Type:** End Event\r\n\r\n**Purpose:** Complete the integration process with success or information status\r\n\r\n**Configuration Details:**\r\n\r\n- **Completion Type:** Success completion for both new and existing account scenarios\r\n- **Final Actions:** Process completion logging and cleanup\r\n- **Status Reporting:** Integration execution results\r\n\r\n**Data Flow:**\r\n\r\n- **Input:** Final processed results from either branch\r\n- **Processing:** Finalize process execution and generate completion status\r\n- **Output:** Process completion confirmation and execution logs\r\n\r\n## Boomi Transformations Explained\r\n\r\n### 1. Map SF Account to Boomi for SAP account\r\n\r\n**Purpose:** Transform Salesforce Account query response data into the required SAP BAPI function input format for customer creation.\r\n\r\n**Input Profile:** Salesforce Account Query Response\r\n- Contains Salesforce Account fields: Name, BillingStreet, BillingCity, BillingState, BillingPostalCode, BillingCountry\r\n- XML structure with Account records and field elements\r\n\r\n**Output Profile:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 Request\r\n- JSON structure for SAP BAPI function call\r\n- Nested IMPORT/I_PI_COMPANYDATA object structure\r\n- Required customer master data fields for SAP\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| Name | I_PI_COMPANYDATA.NAME | String | Maps Salesforce account name to SAP customer company name |\r\n| BillingStreet | I_PI_COMPANYDATA.STREET | String | Maps billing address street to SAP customer address |\r\n| BillingCity | I_PI_COMPANYDATA.CITY | String | Maps billing city to SAP customer city |\r\n| BillingState | I_PI_COMPANYDATA.REGION | String | Maps billing state to SAP customer region |\r\n| BillingPostalCode | I_PI_COMPANYDATA.POSTL_COD1 | String | Maps billing postal code to SAP customer postal code |\r\n| BillingCountry | I_PI_COMPANYDATA.COUNTRY | String | Maps billing country to SAP customer country |\r\n\r\n**Function Steps:**\r\n- Direct field mapping with data type conversion from XML to JSON\r\n- Nested object creation for SAP BAPI structure requirements\r\n- Field validation and format standardization\r\n\r\n### 2. Map SAP account number to SF\r\n\r\n**Purpose:** Transform SAP BAPI customer creation response into Salesforce Account update format, incorporating stored document properties.\r\n\r\n**Input Profile:** SAP BAPI Response\r\n- JSON response from SAP customer creation function\r\n- Contains E_CUSTOMERNO field with generated customer number\r\n- BAPI return status and message information\r\n\r\n**Output Profile:** Salesforce Account Update Request\r\n- XML structure for Salesforce Account update operation\r\n- Account ID and Description field for customer number reference\r\n- Standard Salesforce update format\r\n\r\n**Field Mappings:**\r\n\r\n| Source Field | Target Field | Data Type | Business Purpose |\r\n|--------------|--------------|-----------|------------------|\r\n| E_CUSTOMERNO | Account.Description (via function) | String | Maps SAP customer number to Salesforce description with prefix |\r\n| DDP_SF_Account_ID (property) | Account.Id | String | Uses stored Account ID from document properties |\r\n| DDP_SF_Account_Name (property) | Account.Name | String | Uses stored Account Name from document properties |\r\n\r\n**Function Steps:**\r\n\r\n**Append \"SAP customer #:\" and value from field** (User-defined Function)\r\n- **Input:** E_CUSTOMERNO from SAP response\r\n- **Processing:** Concatenates \"SAP customer #:\" prefix with customer number\r\n- **Output:** Formatted description string for Salesforce\r\n\r\n**Get Document Property** (Process Property Functions)\r\n- **Dynamic Document Property - DDP_SF_Account_ID:** Retrieves stored Salesforce Account ID\r\n- **Dynamic Document Property - DDP_SF_Account_Name:** Retrieves stored Salesforce Account Name\r\n- **Purpose:** Maintains account context throughout the integration process\r\n\r\n**Complete Mapping Configuration:**\r\n- Source field mapping preserves SAP customer number\r\n- Document property functions maintain Salesforce account context\r\n- Custom concatenation function formats customer number for Salesforce display\r\n- Output structure matches Salesforce Account update requirements\r\n\r\n## SAP Integration Suite Implementation\r\n\r\n### Component Mapping\r\n\r\n#### Main Process Component Mapping\r\n| Boomi Component | SAP Integration Suite Equivalent | Purpose |\r\n|-----------------|----------------------------------|---------|\r\n| Start Event (shape1) | Start Message Event | Process initiation and trigger handling |\r\n| Document Properties (shape9) | Content Modifier (Set Properties) | Extract and store SF Account ID and Name as exchange properties |\r\n| Map - SF to SAP Transform (shape2) | Message Mapping | Transform Salesforce Account data to SAP BAPI format |\r\n| Generic Connector - SAP BAPI (shape3) | Request Reply with HTTPS Adapter | Execute SAP BAPI customer creation function |\r\n| Map - SAP to SF Transform (shape10) | Message Mapping | Transform SAP response to Salesforce update format |\r\n| Decision - Is it a new account? (shape25) | Router (Exclusive Gateway) | Route based on account existence validation |\r\n| Salesforce Connector - Update (shape5) | Request Reply with Salesforce Adapter | Update Salesforce Account with SAP customer number |\r\n| Information Message (shape21) | Content Modifier (Log Message) | Handle existing account notification |\r\n| End Events (shape4, shape22) | End Message Event | Process completion for success and information paths |\r\n\r\n### Integration Flow Visualization\r\n\r\n```mermaid\r\nflowchart TD\r\n%% Define node styles for SAP Integration Suite components\r\nclassDef httpAdapter fill:#87CEEB,stroke:#333,stroke-width:2px\r\nclassDef contentModifier fill:#98FB98,stroke:#333,stroke-width:2px\r\nclassDef mapping fill:#DDA0DD,stroke:#333,stroke-width:2px\r\nclassDef adapter fill:#FFD700,stroke:#333,stroke-width:2px\r\nclassDef event fill:#C0C0C0,stroke:#333,stroke-width:2px\r\nclassDef router fill:#FFA500,stroke:#333,stroke-width:2px\r\n\r\n%% Main Integration Flow\r\nStart((\"Start Message Event\")):::event --> SetProperties[\"Content Modifier:<br/>Set SF Account Properties\"]:::contentModifier\r\nSetProperties --> SFtoSAPMap[\"Message Mapping:<br/>SF Account to SAP BAPI Format\"]:::mapping\r\nSFtoSAPMap --> SAPConnector[\"Request Reply:<br/>SAP BAPI Customer Creation\"]:::httpAdapter\r\nSAPConnector --> SAPtoSFMap[\"Message Mapping:<br/>SAP Response to SF Update\"]:::mapping\r\nSAPtoSFMap --> AccountDecision{\"Router:<br/>Is it a new account?\"}:::router\r\n\r\n%% Decision Branches\r\nAccountDecision -->|\"New Account\"| SFUpdate[\"Request Reply:<br/>Salesforce Account Update\"]:::adapter\r\nAccountDecision -->|\"Existing Account\"| InfoMessage[\"Content Modifier:<br/>Account Already Exists Info\"]:::contentModifier\r\n\r\n%% Completion Paths\r\nSFUpdate --> SuccessEnd((\"End Message Event:<br/>Success\")):::event\r\nInfoMessage --> InfoEnd((\"End Message Event:<br/>Information\")):::event\r\n\r\n%% Property Details Subgraph\r\nsubgraph PropertyHandling[\"Dynamic Properties Management\"]\r\n    ExtractAccountID[\"Extract: SF Account ID\"]:::contentModifier\r\n    ExtractAccountName[\"Extract: SF Account Name\"]:::contentModifier\r\n    StoreProperties[\"Store: Exchange Properties\"]:::contentModifier\r\nend\r\n\r\n%% SAP BAPI Details Subgraph\r\nsubgraph SAPIntegration[\"SAP Customer Creation\"]\r\n    PrepareRequest[\"Prepare: BAPI Request JSON\"]:::mapping\r\n    ExecuteBAPI[\"Execute: BAPI_CUSTOMER_CREATEFROMDATA1\"]:::httpAdapter\r\n    ProcessResponse[\"Process: Customer Number Response\"]:::mapping\r\nend\r\n\r\n%% Salesforce Update Details Subgraph  \r\nsubgraph SalesforceUpdate[\"Salesforce Account Update\"]\r\n    FormatDescription[\"Format: SAP Customer # Description\"]:::mapping\r\n    UpdateAccount[\"Update: Account Description Field\"]:::adapter\r\n    ConfirmUpdate[\"Confirm: Update Success\"]:::contentModifier\r\nend\r\n\r\n%% Apply styles\r\nclass Start,SuccessEnd,InfoEnd event\r\nclass SetProperties,ExtractAccountID,ExtractAccountName,StoreProperties,InfoMessage,ConfirmUpdate contentModifier\r\nclass SFtoSAPMap,SAPtoSFMap,PrepareRequest,ProcessResponse,FormatDescription mapping\r\nclass SAPConnector,ExecuteBAPI httpAdapter\r\nclass SFUpdate,UpdateAccount adapter\r\nclass AccountDecision router\r\n```\r\n\r\n### Configuration Details\r\n\r\n#### Content Modifier - Set SF Account Properties\r\n**Purpose:** Extract Salesforce Account ID and Name for later reference\r\n**Parameters:**\r\n- Exchange Property: DDP_SF_Account_ID = ${xpath.evaluate('//*[local-name()=\"Id\"]/text()', body)}\r\n- Exchange Property: DDP_SF_Account_Name = ${xpath.evaluate('//*[local-name()=\"Name\"]/text()', body)}\r\n\r\n#### Message Mapping - SF Account to SAP BAPI Format\r\n**Input Schema:** Salesforce Account Query Response (XML)\r\n**Output Schema:** SAP BAPI_CUSTOMER_CREATEFROMDATA1 Request (JSON)\r\n**Key Transformations:**\r\n- Name → IMPORT.I_PI_COMPANYDATA.NAME\r\n- BillingStreet → IMPORT.I_PI_COMPANYDATA.STREET\r\n- BillingCity → IMPORT.I_PI_COMPANYDATA.CITY\r\n- BillingState → IMPORT.I_PI_COMPANYDATA.REGION\r\n- BillingPostalCode → IMPORT.I_PI_COMPANYDATA.POSTL_COD1\r\n- BillingCountry → IMPORT.I_PI_COMPANYDATA.COUNTRY\r\n\r\n#### Request Reply - SAP BAPI Customer Creation\r\n**Adapter Type:** HTTPS Adapter (Receiver)\r\n**Connection:** SAP system endpoint\r\n**Operation:** POST request to SAP BAPI function\r\n**Authentication:** Basic Authentication or OAuth 2.0\r\n**Content Type:** application/json\r\n\r\n#### Message Mapping - SAP Response to SF Update\r\n**Input Schema:** SAP BAPI Response (JSON)\r\n**Output Schema:** Salesforce Account Update Request (XML)\r\n**Key Transformations:**\r\n- E_CUSTOMERNO → Account.Description (with \"SAP customer #:\" prefix)\r\n- Exchange Property DDP_SF_Account_ID → Account.Id\r\n- Exchange Property DDP_SF_Account_Name → Account.Name\r\n\r\n#### Router - Account Existence Check\r\n**Routing Condition:** Evaluate if account requires new customer creation\r\n**Branch 1:** New Account → Continue to Salesforce Update\r\n**Branch 2:** Existing Account → Route to Information Message\r\n\r\n#### Request Reply - Salesforce Account Update\r\n**Adapter Type:** Salesforce Adapter (Receiver) or HTTPS Adapter\r\n**Connection:** Salesforce API endpoint\r\n**Operation:** PATCH request to update Account record\r\n**Authentication:** OAuth 2.0 JWT Bearer Token\r\n**Content Type:** application/json\r\n\r\n## Environment Configuration\r\n\r\n### Connection Parameters\r\n\r\n**Salesforce Connection:**\r\n- **Environment Variable:** SALESFORCE_ENDPOINT\r\n- **Example Value:** `https://mycompany.my.salesforce.com`\r\n- **Description:** Salesforce instance URL for API connections\r\n\r\n**SAP System Connection:**\r\n- **Environment Variable:** SAP_HOST\r\n- **Example Value:** `https://sap-server.company.com:8000`\r\n- **Description:** SAP system host and port for BAPI function calls\r\n\r\n**Authentication Settings:**\r\n- **Salesforce OAuth:** Consumer Key, Consumer Secret, Username, Password, Security Token\r\n- **SAP Authentication:** Username, Password, Client ID (if OAuth)\r\n\r\n### Security Configuration\r\n\r\n**Required Certificates:**\r\n- Salesforce SSL certificate for HTTPS connections\r\n- SAP system SSL certificate for secure BAPI calls\r\n- Root CA certificates for certificate chain validation\r\n\r\n**Access Control:**\r\n- Salesforce user with Account read/write permissions\r\n- SAP user with BAPI_CUSTOMER_CREATEFROMDATA1 execution rights\r\n- Network access between integration platform and target systems\r\n\r\n### Deployment Requirements\r\n\r\n**Memory Requirements:** Minimum 2GB for XML/JSON transformations\r\n**CPU Requirements:** Multi-core processing for concurrent account processing\r\n**Network Requirements:** Reliable connectivity to Salesforce cloud and SAP on-premise\r\n**Storage Requirements:** Temporary space for message transformation and logging\r\n\r\n### Monitoring Configuration\r\n\r\n**Process Monitoring:**\r\n- Integration flow execution status\r\n- Message throughput and processing time\r\n- Error rate tracking and alerting\r\n\r\n**Logging Configuration:**\r\n- Debug level logging for development environments\r\n- Info level logging for production environments\r\n- Error logging with detailed stack traces\r\n\r\n## API Reference\r\n\r\n### Salesforce Account Query API\r\n\r\n**Endpoint:** `GET /services/data/v{version}/query/`\r\n\r\n**Authentication:** Bearer Token (OAuth 2.0)\r\n\r\n**Query Parameters:**\r\n\r\n| Parameter | Type | Required | Description | Example Value |\r\n|-----------|------|----------|-------------|---------------|\r\n| `q` | String | Yes | SOQL query for Account records | `SELECT Id, Name, BillingStreet, BillingCity, BillingState, BillingPostalCode, BillingCountry FROM Account WHERE CreatedDate >= TODAY` |\r\n\r\n**Response Schema:**\r\n```json\r\n{\r\n  \"totalSize\": 1,\r\n  \"done\": true,\r\n  \"records\": [\r\n    {\r\n      \"attributes\": {\r\n        \"type\": \"Account\",\r\n        \"url\": \"/services/data/v58.0/sobjects/Account/001XX000003DHP0\"\r\n      },\r\n      \"Id\": \"001XX000003DHP0\",\r\n      \"Name\": \"Sample Account\",\r\n      \"BillingStreet\": \"123 Main St\",\r\n      \"BillingCity\": \"San Francisco\", \r\n      \"BillingState\": \"CA\",\r\n      \"BillingPostalCode\": \"94105\",\r\n      \"BillingCountry\": \"USA\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### SAP BAPI Customer Creation API\r\n\r\n**Endpoint:** `POST /sap/bc/rest/bapi_customer_createfromdata1`\r\n\r\n**Authentication:** Basic Authentication or OAuth 2.0\r\n\r\n**Request Schema:**\r\n```json\r\n{\r\n  \"IMPORT\": {\r\n    \"I_PI_COMPANYDATA\": {\r\n      \"NAME\": \"Sample Account\",\r\n      \"STREET\": \"123 Main St\",\r\n      \"CITY\": \"San Francisco\",\r\n      \"REGION\": \"CA\", \r\n      \"POSTL_COD1\": \"94105\",\r\n      \"COUNTRY\": \"USA\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Response Schema:**\r\n```json\r\n{\r\n  \"E_CUSTOMERNO\": \"0000100001\",\r\n  \"RETURN\": {\r\n    \"TYPE\": \"S\",\r\n    \"MESSAGE\": \"Customer 0000100001 created successfully\"\r\n  }\r\n}\r\n```\r\n\r\n### Salesforce Account Update API\r\n\r\n**Endpoint:** `PATCH /services/data/v{version}/sobjects/Account/{Id}`\r\n\r\n**Authentication:** Bearer Token (OAuth 2.0)\r\n\r\n**Request Schema:**\r\n```json\r\n{\r\n  \"Description\": \"SAP customer #:0000100001\"\r\n}\r\n```\r\n\r\n**Response Schema:**\r\n```json\r\n{\r\n  \"id\": \"001XX000003DHP0\",\r\n  \"success\": true,\r\n  \"errors\": []\r\n}\r\n```\r\n\r\n### Error Codes and Handling\r\n\r\n**Salesforce API Errors:**\r\n- `400` - Bad Request: Invalid SOQL query syntax\r\n- `401` - Unauthorized: Invalid or expired access token\r\n- `403` - Forbidden: Insufficient permissions for Account access\r\n- `404` - Not Found: Account record not found for update\r\n\r\n**SAP BAPI Errors:**\r\n- `500` - Internal Server Error: SAP system connectivity issues\r\n- `400` - Bad Request: Invalid BAPI parameter format\r\n- `401` - Unauthorized: Invalid SAP authentication credentials\r\n\r\n**Integration Error Handling:**\r\n- Retry logic for temporary connection failures\r\n- Error logging with detailed diagnostic information\r\n- Notification alerts for critical integration failures\r\n- Graceful degradation for partial system availability",
  "markdown_length": 24308,
  "constructed_query": "Create a complete SAP iFlow integration package named 'IFlow_cdad3980' with the following requirements from the documentation:\n\n# Salesforce to SAP Customer Integration API\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the synchronization of customer data between Salesforce and SAP systems using Dell Boomi as the integration platform. The primary business purpose is to automatically create customer records in SAP when new accounts are created in Salesforce, ensuring data consistency across both systems.\r\n\r\n**Base URL Pattern:**\r\n- Salesforce API: `https://[instance].salesforce.com/services/data/v[version]/`\r\n- SAP API: `https://[sap-host]:[port]/sap/bc/rest/`\r\n\r\n**Authentication Mechanisms:**\r\n- Salesforce: OAuth 2.0 with JWT Bearer Token Flow\r\n- SAP: Basic Authentication or OAuth 2.0\r\n\r\n**General Response Format:**\r\n- Salesforce: JSON format with standard REST API structure\r\n- SAP: JSON format for BAPI function responses\r\n\r\n## Endpoints\r\n\r\n### Salesforce Account Query Endpoint\r\n\r\n**HTTP Method:** GET\r\n**Path:** `/services/data/v[version]/query/`\r\n\r\n**Purpose:** Query Salesforce Account records based on creation date criteria\r\n\r\n**Request Parameters:**\r\n- **Query (q):** SOQL query string to filter accounts by creation date\r\n- **Headers:**\r\n  - `Authorization: Bearer [access_token]`\r\n  - `Content-Type: application/json`\r\n\r\n**Response Format:**\r\n- Status Code: 200 (Success)\r\n- Body: JSON array containing Accou\n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "query_length": 2358,
  "markdown_truncated_at": 2000,
  "api_endpoint": "/api/generate-iflow-from-markdown",
  "request_time": "2025-10-23T11:30:40.638523"
}