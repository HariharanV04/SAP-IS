{
  "query": "Create a complete SAP iFlow integration package named 'IFlow_47b1fef2' with the following requirements from the documentation:\n\n# Stripe Subscription to Salesforce Opportunity Integration API\r\n\r\n## Table of Contents\r\n\r\n1. [API Overview](#api-overview)\r\n2. [Endpoints](#endpoints)\r\n3. [Current Boomi Flow Logic](#current-boomi-flow-logic)\r\n   - [Process Flow Overview](#process-flow-overview)\r\n   - [Step-by-Step Flow Description](#step-by-step-flow-description)\r\n4. [Boomi Transformations Explained](#boomi-transformations-explained)\r\n5. [SAP Integration Suite Implementation](#sap-integration-suite-implementation)\r\n   - [Component Mapping](#component-mapping)\r\n   - [Integration Flow Visualization](#integration-flow-visualization)\r\n   - [Configuration Details](#configuration-details)\r\n6. [Environment Configuration](#environment-configuration)\r\n7. [API Reference](#api-reference)\r\n\r\n## API Overview\r\n\r\nThis integration facilitates the automatic creation of Salesforce Opportunities from Stripe subscription events. The system listens for Stripe webhook events related to subscription completions and transforms the subscription data into Salesforce Opportunity records, enabling seamless customer lifecycle management between payment processing and CRM systems.\r\n\r\n**Base URL Pattern:** Webhook-based event listener for Stripe subscription events\r\n**Authentication:** Stripe webhook signature verification and Salesforce OAuth\r\n**Rate Limiting:** Dependent on Stripe webhook frequency and Salesforce API limits\r\n**Response Format:** XML-based Salesforce SOAP API responses\r\n\r\n**Business Purpose:** \r\n- Automate opportunity creation from successful subscription events\r\n- Maintain synchronization between payment system and CRM\r\n- Enable sales team visibility into subscription-based revenue\r\n\r\n## Endpoints\r\n\r\n### Stripe Webhook Listener\r\n- **HTTP Method:** POST (Webhook receiver)\r\n- **Purpose:** Receives Stripe subscription completion webhook events\r\n- **Request Body:** Stripe webhook payload containing subscription data\r\n- **Response:** Acknowledgment of webhook receipt\r\n- **Error Handling:** Exception handling for m\n\nGenerate a production-ready iFlow with proper:\n1. Start and End events\n2. Required adapters and connectors\n3. Content modifiers and processing steps\n4. Proper sequence flows\n5. Error handling\n6. SAP Integration Suite compliance\n",
  "timestamp": "20251018_185402",
  "intent_classification": "complete_iflow_creation",
  "user_goal": "Create a complete SAP iFlow with multiple components",
  "query_interpretation": "User wants to create a complete iFlow with content modifier, then router splitting to two groovy scripts based on priority field",
  "total_components": 6,
  "generation_order": [
    "StartEvent",
    "ContentModifier",
    "Router",
    "GroovyScript",
    "GroovyScript",
    "EndEvent"
  ],
  "integration_approach": "Sequential flow with Router branching to multiple Groovy Scripts based on payload criteria",
  "execution_steps": [
    "1. Understand user intent",
    "2. Identify all required components",
    "3. Create strategic plan",
    "4. Execute RAG searches for each component",
    "5. Generate component XML using authoritative SAP standards",
    "6. Create iFlow package with proper connections",
    "7. Export final package"
  ],
  "components": [
    {
      "type": "ContentModifier",
      "name": "ContentModifier",
      "quantity": 1,
      "explicitly_mentioned": true,
      "requirements": "Standard content modification",
      "source": "explicit",
      "priority": "high"
    },
    {
      "type": "RequestReply",
      "name": "RequestReply",
      "quantity": 1,
      "explicitly_mentioned": true,
      "requirements": "Request-reply pattern with adapter",
      "adapter_type": "HTTP",
      "source": "explicit",
      "priority": "high"
    },
    {
      "type": "Router",
      "name": "Router",
      "quantity": 1,
      "explicitly_mentioned": true,
      "requirements": "Content-based routing with branching logic",
      "routing_criteria": "priority",
      "branch_count": 2,
      "branch_targets": [
        "GroovyScript",
        "GroovyScript"
      ],
      "source": "explicit",
      "priority": "high"
    },
    {
      "type": "GroovyScript",
      "name": "GroovyScript",
      "quantity": 2,
      "explicitly_mentioned": true,
      "requirements": "Two groovy script processors for router branches",
      "source": "explicit",
      "priority": "high"
    },
    {
      "type": "StartEvent",
      "name": "Start",
      "quantity": 1,
      "reason": "Required for iFlow initiation",
      "source": "implicit",
      "priority": "medium"
    },
    {
      "type": "EndEvent",
      "name": "End",
      "quantity": 1,
      "reason": "Required for iFlow termination",
      "source": "implicit",
      "priority": "medium"
    }
  ],
  "rag_strategy": {
    "ContentModifier": {
      "search_queries": [
        "contentmodifier",
        "contentmodifier",
        "content enricher XML",
        "content enricher",
        "enricher",
        "callActivity enricher",
        "content modifier XML",
        "callActivity XML",
        "enricher XML"
      ],
      "search_limit": 5,
      "chunk_types": [
        "xml",
        "groovy",
        "component"
      ],
      "priority": "high"
    },
    "RequestReply": {
      "search_queries": [
        "requestreply",
        "requestreply",
        "RequestReply",
        "request reply",
        "activityType RequestReply",
        "Request Reply XML",
        "service task request reply",
        "external call request reply",
        "RequestReply adapter",
        "RequestReply HTTP",
        "RequestReply OData"
      ],
      "search_limit": 5,
      "chunk_types": [
        "xml",
        "groovy",
        "component"
      ],
      "priority": "high"
    },
    "Router": {
      "search_queries": [
        "router",
        "router",
        "router XML",
        "exclusive gateway XML",
        "gateway XML",
        "router",
        "exclusive gateway"
      ],
      "search_limit": 5,
      "chunk_types": [
        "xml",
        "groovy",
        "component"
      ],
      "priority": "high"
    },
    "GroovyScript": {
      "search_queries": [
        "groovyscript",
        "groovyscript",
        "groovy script XML",
        "groovy script",
        "processData",
        "import com.sap.gateway",
        "def Message processData",
        "groovy transformation",
        "callActivity groovy"
      ],
      "search_limit": 5,
      "chunk_types": [
        "xml",
        "groovy",
        "component"
      ],
      "priority": "high"
    },
    "StartEvent": {
      "search_queries": [
        "startevent",
        "startevent",
        "start event XML",
        "start event",
        "startEvent",
        "message start event",
        "bpmn2:startEvent",
        "startEvent XML"
      ],
      "search_limit": 5,
      "chunk_types": [
        "xml",
        "groovy",
        "component"
      ],
      "priority": "medium"
    },
    "EndEvent": {
      "search_queries": [
        "endevent",
        "endevent",
        "end event XML",
        "end event",
        "endEvent",
        "message end event",
        "bpmn2:endEvent",
        "endEvent XML"
      ],
      "search_limit": 5,
      "chunk_types": [
        "xml",
        "groovy",
        "component"
      ],
      "priority": "medium"
    }
  }
}