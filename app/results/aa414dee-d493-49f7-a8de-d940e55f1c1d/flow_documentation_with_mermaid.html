<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MuleSoft Application Documentation

## Overview

This document provides a comprehensive overview of the MuleSoft application's flows, subflows, configurations, and error handling strategies.

# Flows

## Flow: products-main

This flow performs the following operations:

<ol>
  <li><strong>products-main</strong> (flow)

    Executes `flow` component.
  </li>
  <li>listener

    Executes `listener` component.
  </li>
  <li>response

    Executes `response` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>error-response

    Executes `error-response` component.
  </li>
  <li>body

    Executes `body` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>router

    Executes `router` component.
  </li>
</ol>


## Flow: products-console

This flow performs the following operations:

<ol>
  <li><strong>products-console</strong> (flow)

    Executes `flow` component.
  </li>
  <li>listener

    Executes `listener` component.
  </li>
  <li>response

    Executes `response` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>error-response

    Executes `error-response` component.
  </li>
  <li>body

    Executes `body` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>console

    Executes `console` component.
  </li>
</ol>


## Flow: get:\products:products-config

This flow performs the following operations:

<ol>
  <li><strong>get:\products:products-config</strong> (flow)

    Executes `flow` component.
  </li>
  <li><strong>get-product-details-flow</strong> (flow-ref)

    Executes `flow-ref` component.
  </li>
</ol>


# Subflows

## Flow: get-product-details-flow

This flow performs the following operations:

<ol>
  <li><strong>get-product-details-flow</strong> (sub-flow)

    Executes `sub-flow` component.
  </li>
  <li>transform

    • Set `isExistProduct` =

      ```
      %dw 2.0
output application/java
var productidentifer=p('odata.productIdentifiers') splitBy(",")
---
sizeOf(productidentifer filter ($ == attributes.queryParams.productIdentifier))>0
      ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>variables

    Executes `variables` component.
  </li>
  <li>set-variable

    Executes `set-variable` component.
  </li>
  <li>choice

    **Conditions:**
      - `#[vars.isExistProduct]`
  </li>
  <li>when

    Executes `when` component.
  </li>
  <li>logger

    • Log message: "The request is processed and sent downstream with the product identifier (#[attributes.queryParams.productIdentifier])."
  </li>
  <li>request

    **Query parameters (raw):**

    ```
#[output application/java
---
{
	"$filter" : "ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'",
	"$select" : "ProductId,Category,CategoryName,CurrencyCode,DimensionDepth,DimensionHeight,DimensionUnit,DimensionWidth,LongDescription,Name,PictureUrl,Price,QuantityUnit,ShortDescription,SupplierId,Weight,WeightUnit"
}]
    ```

    • OData `$filter`: `ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'`

    • OData `$select`: `ProductId`

    • All OData parameters:
      - **$filter**: `ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'`
      - **$select**: `ProductId`
  </li>
  <li>query-params

    Executes `query-params` component.
  </li>
  <li>transform

    **Transform payload:**

    ```
%dw 2.0
output application/json
---
payload
    ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>set-payload

    Executes `set-payload` component.
  </li>
  <li>otherwise

    Executes `otherwise` component.
  </li>
  <li>logger

    • Log message: "The product identifier (#[attributes.queryParams.productIdentifier]) was not passed in the request or was passed incorrectly."
  </li>
  <li>transform

    **Transform payload:**

    ```
%dw 2.0
output application/json
---
{
	status: "error",
	message: "The product identifier " ++ attributes.queryParams.productIdentifier ++ " was not found.",
	errorCode: "PRODUCT_NOT_FOUND"
}
    ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>set-payload

    Executes `set-payload` component.
  </li>
</ol>


## Configurations

The application uses the following configurations:

### HTTP_Listener_config
Type: listener-config
Configuration details:
- name: HTTP_Listener_config

### Hana_HTTP_Request_Configuration
Type: request-config
Configuration details:
- name: Hana_HTTP_Request_Configuration

### products-config
Type: config
Configuration details:
- name: products-config
- api: products.raml
- outboundHeadersMapName: outboundHeaders
- httpStatusVarName: httpStatus

## Error Handling

The application implements the following error handling strategies:

### Gobal_Error_Handler
- Handles APIKIT:BAD_REQUEST errors using on-error-propagate</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        .header {
            background-color: #1565c0;
            color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            color: white;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        h1, h2, h3 {
            color: #1565c0;
        }
        pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            background: #f5f5f5;
            padding: 2px 5px;
            border-radius: 3px;
        }
        pre.mermaid {
            text-align: center;
            background: white;
        }
        .mermaid-container {
            margin: 30px 0;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background-color: #fafafa;
        }
        .mermaid-heading {
            color: #1565c0;
            margin-top: 0;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 10px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .note {
            background: #e3f2fd;
            padding: 10px;
            border-left: 4px solid #1565c0;
            margin: 10px 0;
        }
        .insights {
            background: #f3e5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .best-practices {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .security {
            background: #ffebee;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>MuleSoft Application Documentation

## Overview

This document provides a comprehensive overview of the MuleSoft application's flows, subflows, configurations, and error handling strategies.

# Flows

## Flow: products-main

This flow performs the following operations:

<ol>
  <li><strong>products-main</strong> (flow)

    Executes `flow` component.
  </li>
  <li>listener

    Executes `listener` component.
  </li>
  <li>response

    Executes `response` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>error-response

    Executes `error-response` component.
  </li>
  <li>body

    Executes `body` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>router

    Executes `router` component.
  </li>
</ol>


## Flow: products-console

This flow performs the following operations:

<ol>
  <li><strong>products-console</strong> (flow)

    Executes `flow` component.
  </li>
  <li>listener

    Executes `listener` component.
  </li>
  <li>response

    Executes `response` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>error-response

    Executes `error-response` component.
  </li>
  <li>body

    Executes `body` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>console

    Executes `console` component.
  </li>
</ol>


## Flow: get:\products:products-config

This flow performs the following operations:

<ol>
  <li><strong>get:\products:products-config</strong> (flow)

    Executes `flow` component.
  </li>
  <li><strong>get-product-details-flow</strong> (flow-ref)

    Executes `flow-ref` component.
  </li>
</ol>


# Subflows

## Flow: get-product-details-flow

This flow performs the following operations:

<ol>
  <li><strong>get-product-details-flow</strong> (sub-flow)

    Executes `sub-flow` component.
  </li>
  <li>transform

    • Set `isExistProduct` =

      ```
      %dw 2.0
output application/java
var productidentifer=p('odata.productIdentifiers') splitBy(",")
---
sizeOf(productidentifer filter ($ == attributes.queryParams.productIdentifier))>0
      ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>variables

    Executes `variables` component.
  </li>
  <li>set-variable

    Executes `set-variable` component.
  </li>
  <li>choice

    **Conditions:**
      - `#[vars.isExistProduct]`
  </li>
  <li>when

    Executes `when` component.
  </li>
  <li>logger

    • Log message: "The request is processed and sent downstream with the product identifier (#[attributes.queryParams.productIdentifier])."
  </li>
  <li>request

    **Query parameters (raw):**

    ```
#[output application/java
---
{
	"$filter" : "ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'",
	"$select" : "ProductId,Category,CategoryName,CurrencyCode,DimensionDepth,DimensionHeight,DimensionUnit,DimensionWidth,LongDescription,Name,PictureUrl,Price,QuantityUnit,ShortDescription,SupplierId,Weight,WeightUnit"
}]
    ```

    • OData `$filter`: `ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'`

    • OData `$select`: `ProductId`

    • All OData parameters:
      - **$filter**: `ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'`
      - **$select**: `ProductId`
  </li>
  <li>query-params

    Executes `query-params` component.
  </li>
  <li>transform

    **Transform payload:**

    ```
%dw 2.0
output application/json
---
payload
    ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>set-payload

    Executes `set-payload` component.
  </li>
  <li>otherwise

    Executes `otherwise` component.
  </li>
  <li>logger

    • Log message: "The product identifier (#[attributes.queryParams.productIdentifier]) was not passed in the request or was passed incorrectly."
  </li>
  <li>transform

    **Transform payload:**

    ```
%dw 2.0
output application/json
---
{
	status: "error",
	message: "The product identifier " ++ attributes.queryParams.productIdentifier ++ " was not found.",
	errorCode: "PRODUCT_NOT_FOUND"
}
    ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>set-payload

    Executes `set-payload` component.
  </li>
</ol>


## Configurations

The application uses the following configurations:

### HTTP_Listener_config
Type: listener-config
Configuration details:
- name: HTTP_Listener_config

### Hana_HTTP_Request_Configuration
Type: request-config
Configuration details:
- name: Hana_HTTP_Request_Configuration

### products-config
Type: config
Configuration details:
- name: products-config
- api: products.raml
- outboundHeadersMapName: outboundHeaders
- httpStatusVarName: httpStatus

## Error Handling

The application implements the following error handling strategies:

### Gobal_Error_Handler
- Handles APIKIT:BAD_REQUEST errors using on-error-propagate</h1>
        <p>Generated on 2025-05-15 10:48</p>
    </div>

    <!-- MERMAID_HEADING_PROCESSED -->
<h1 id="mulesoft-application-documentation">MuleSoft Application Documentation</h1>
<h2 id="overview">Overview</h2>
<p>This document provides a comprehensive overview of the MuleSoft application's flows, subflows, configurations, and error handling strategies.</p>
<h1 id="flows">Flows</h1>
<h2 id="flow-products-main">Flow: products-main</h2>
<p>This flow performs the following operations:</p>
<ol>
  <li><strong>products-main</strong> (flow)

    Executes `flow` component.
  </li>
  <li>listener

    Executes `listener` component.
  </li>
  <li>response

    Executes `response` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>error-response

    Executes `error-response` component.
  </li>
  <li>body

    Executes `body` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>router

    Executes `router` component.
  </li>
</ol>

<h2 id="flow-products-console">Flow: products-console</h2>
<p>This flow performs the following operations:</p>
<ol>
  <li><strong>products-console</strong> (flow)

    Executes `flow` component.
  </li>
  <li>listener

    Executes `listener` component.
  </li>
  <li>response

    Executes `response` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>error-response

    Executes `error-response` component.
  </li>
  <li>body

    Executes `body` component.
  </li>
  <li>headers

    Executes `headers` component.
  </li>
  <li>console

    Executes `console` component.
  </li>
</ol>

<h2 id="flow-getproductsproducts-config">Flow: get:\products:products-config</h2>
<p>This flow performs the following operations:</p>
<ol>
  <li><strong>get:\products:products-config</strong> (flow)

    Executes `flow` component.
  </li>
  <li><strong>get-product-details-flow</strong> (flow-ref)

    Executes `flow-ref` component.
  </li>
</ol>

<h1 id="subflows">Subflows</h1>
<h2 id="flow-get-product-details-flow">Flow: get-product-details-flow</h2>
<p>This flow performs the following operations:</p>
<ol>
  <li><strong>get-product-details-flow</strong> (sub-flow)

    Executes `sub-flow` component.
  </li>
  <li>transform

    • Set `isExistProduct` =

      ```
      %dw 2.0
output application/java
var productidentifer=p('odata.productIdentifiers') splitBy(",")
---
sizeOf(productidentifer filter ($ == attributes.queryParams.productIdentifier))>0
      ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>variables

    Executes `variables` component.
  </li>
  <li>set-variable

    Executes `set-variable` component.
  </li>
  <li>choice

    **Conditions:**
      - `#[vars.isExistProduct]`
  </li>
  <li>when

    Executes `when` component.
  </li>
  <li>logger

    • Log message: "The request is processed and sent downstream with the product identifier (#[attributes.queryParams.productIdentifier])."
  </li>
  <li>request

    **Query parameters (raw):**

    ```
#[output application/java
---
{
    "$filter" : "ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'",
    "$select" : "ProductId,Category,CategoryName,CurrencyCode,DimensionDepth,DimensionHeight,DimensionUnit,DimensionWidth,LongDescription,Name,PictureUrl,Price,QuantityUnit,ShortDescription,SupplierId,Weight,WeightUnit"
}]
    ```

    • OData `$filter`: `ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'`

    • OData `$select`: `ProductId`

    • All OData parameters:
      - **$filter**: `ProductId eq '" ++ (attributes.queryParams.productIdentifier default '') ++ "'`
      - **$select**: `ProductId`
  </li>
  <li>query-params

    Executes `query-params` component.
  </li>
  <li>transform

    **Transform payload:**

    ```
%dw 2.0
output application/json
---
payload
    ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>set-payload

    Executes `set-payload` component.
  </li>
  <li>otherwise

    Executes `otherwise` component.
  </li>
  <li>logger

    • Log message: "The product identifier (#[attributes.queryParams.productIdentifier]) was not passed in the request or was passed incorrectly."
  </li>
  <li>transform

    **Transform payload:**

    ```
%dw 2.0
output application/json
---
{
    status: "error",
    message: "The product identifier " ++ attributes.queryParams.productIdentifier ++ " was not found.",
    errorCode: "PRODUCT_NOT_FOUND"
}
    ```
  </li>
  <li>message

    Executes `message` component.
  </li>
  <li>set-payload

    Executes `set-payload` component.
  </li>
</ol>

<h2 id="configurations">Configurations</h2>
<p>The application uses the following configurations:</p>
<h3 id="http_listener_config">HTTP_Listener_config</h3>
<p>Type: listener-config
Configuration details:
- name: HTTP_Listener_config</p>
<h3 id="hana_http_request_configuration">Hana_HTTP_Request_Configuration</h3>
<p>Type: request-config
Configuration details:
- name: Hana_HTTP_Request_Configuration</p>
<h3 id="products-config">products-config</h3>
<p>Type: config
Configuration details:
- name: products-config
- api: products.raml
- outboundHeadersMapName: outboundHeaders
- httpStatusVarName: httpStatus</p>
<h2 id="error-handling">Error Handling</h2>
<p>The application implements the following error handling strategies:</p>
<h3 id="gobal_error_handler">Gobal_Error_Handler</h3>
<ul>
<li>Handles APIKIT:BAD_REQUEST errors using on-error-propagate</li>
<li>Handles APIKIT:NOT_FOUND errors using on-error-propagate</li>
<li>Handles APIKIT:METHOD_NOT_ALLOWED errors using on-error-propagate</li>
<li>Handles APIKIT:NOT_ACCEPTABLE errors using on-error-propagate</li>
<li>Handles APIKIT:UNSUPPORTED_MEDIA_TYPE errors using on-error-propagate</li>
<li>Handles APIKIT:NOT_IMPLEMENTED errors using on-error-propagate</li>
</ul>
<h1 id="additional-resources">Additional Resources</h1>
<p>This section contains documentation for additional resources used in the Mule application.</p>
<h2 id="error-adding-additional-resources">Error Adding Additional Resources</h2>
<p>An error occurred while adding additional resources to the documentation: sequence item 0: expected str instance, int found</p>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>