<!DOCTYPE html>
<html>
<head>
    <title>MuleSoft Documentation Generator API</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            line-height: 1.6; 
            padding: 20px; 
            max-width: 800px; 
            margin: 0 auto; 
        }
        h1, h2 { 
            color: #2c3e50; 
        }
        code { 
            background: #f8f9fa; 
            padding: 2px 4px; 
            border-radius: 3px; 
        }
        pre { 
            background: #f8f9fa; 
            padding: 10px; 
            border-radius: 5px; 
            overflow-x: auto; 
        }
        .endpoint { 
            margin-bottom: 20px; 
            border-left: 3px solid #3498db; 
            padding-left: 10px; 
        }
        h3 { 
            margin-bottom: 5px; 
        }
        .nav {
            display: flex;
            margin-bottom: 20px;
        }
        .nav a {
            margin-right: 20px;
            text-decoration: none;
            color: #3498db;
            font-weight: bold;
        }
        .nav a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="nav">
        <a href="/">Home</a>
        <a href="/api_docs">API Documentation</a>
    </div>

    <h1>MuleSoft Documentation Generator API</h1>
    <p>This API service generates documentation from MuleSoft XML files.</p>
    
    <h2>Available Endpoints:</h2>
    
    <div class="endpoint">
        <h3>POST /api/generate-docs</h3>
        <p>Upload MuleSoft XML files or a ZIP archive containing MuleSoft files to start documentation generation.</p>
        <h4>Request:</h4>
        <pre>curl -X POST -F 'files[]=@your_file.xml' -F 'enhance=true' http://localhost:5000/api/generate-docs</pre>
        <p>OR with ZIP:</p>
        <pre>curl -X POST -F 'files[]=@your_archive.zip' -F 'enhance=true' http://localhost:5000/api/generate-docs</pre>
        <h4>Parameters:</h4>
        <ul>
            <li><code>files[]</code> - One or more MuleSoft XML files or a ZIP archive containing MuleSoft files (required)</li>
            <li><code>enhance</code> - Set to 'true' to enable AI enhancement (optional)</li>
        </ul>
        <h4>Response:</h4>
        <pre>{
  "job_id": "unique-job-identifier",
  "status": "queued",
  "message": "Documentation generation started"
}</pre>
    </div>
    
    <div class="endpoint">
        <h3>GET /api/jobs/{job_id}</h3>
        <p>Check the status of a documentation job.</p>
        <h4>Request:</h4>
        <pre>curl http://localhost:5000/api/jobs/your-job-id</pre>
        <h4>Response:</h4>
        <pre>{
  "id": "unique-job-identifier",
  "status": "completed",
  "created": "2023-07-15T12:34:56.789Z",
  "last_updated": "2023-07-15T12:40:12.345Z",
  "enhance": true,
  "files": {
    "markdown": "path/to/markdown/file",
    "html": "path/to/html/file",
    "visualization": "path/to/visualization/file"
  }
}</pre>
    </div>
    
    <div class="endpoint">
        <h3>GET /api/jobs</h3>
        <p>List all documentation jobs.</p>
        <h4>Request:</h4>
        <pre>curl http://localhost:5000/api/jobs</pre>
        <h4>Response:</h4>
        <pre>[
  {
    "id": "unique-job-identifier-1",
    "status": "completed",
    "created": "2023-07-15T12:34:56.789Z",
    "last_updated": "2023-07-15T12:40:12.345Z"
  },
  {
    "id": "unique-job-identifier-2",
    "status": "processing",
    "created": "2023-07-15T13:45:00.123Z",
    "last_updated": "2023-07-15T13:45:10.456Z"
  }
]</pre>
    </div>
    
    <div class="endpoint">
        <h3>GET /api/docs/{job_id}/{file_type}</h3>
        <p>Download generated documentation.</p>
        <h4>Request:</h4>
        <pre>curl http://localhost:5000/api/docs/your-job-id/html > documentation.html</pre>
        <h4>Parameters:</h4>
        <ul>
            <li><code>job_id</code> - The job identifier (required)</li>
            <li><code>file_type</code> - Type of file to download: markdown, html, or visualization (required)</li>
        </ul>
        <h4>Response:</h4>
        <p>The file content with appropriate content type</p>
    </div>
</body>
</html> 